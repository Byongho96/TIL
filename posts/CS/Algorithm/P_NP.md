---
title: '"P, NP, NP 난해, NP 완전" 이해하기'
updatedAt: '2023-09-04'
createdAt: '2023-09-04'
isCompleted: true
tags: ['CS', 'P', 'NP', 'NP 난해', 'NP 완전']
reference:
---

# 1. 핵심 요약

P-NP 개념에 대해 구글링하면 온갖 수학적 개념이 튀어나와 사람을 기죽인다. 아마 명제만으로 개념을 정의하기 위한 수학자들의 약속 때문인 것 같다.

하지만 나 같은 일반 개발자가 이해하기에는 너무나도 고고했기 때문에, 정확성과 전달력 사이에서 적절히 타협하여 다음과 같이 정리했다.

- **P 문제**: 다항 시간 이내의 시간 복잡도로 풀이 가능한 문제
- **NP 문제**: 다항 시간 이내의 시간 복잡도로 검증 가능한 문제
- **NP 난해**: 다항 시간 이내의 시간 복잡도로 풀이 불가능한 문제
- **NP 완전**: 다항 시간 이상의 시간 복잡도로 풀이 불가능하지만, 다항 시간의 시간복잡도로 검증 가능한 문제

다항시간의 시간복잡도란, <mark>주어진 데이터의 크기가 N이라고 할 때 `O(N**n)`(n은 0 이상의 정수)</mark>으로 나타낼 수 있는 시간복잡도를 말한다.

# 2. P 문제

<mark>다항 시간 이내의 시간 복잡도로 풀이 가능한 문제</mark>를 말한다. 아래 그래프에서 확인할 수 있는 것처럼 `O(logN)`의 시간복잡도가 `O(N)`보다 낮기 때문에, **다항식에 `logN`이 곱해져도 여전히 다항식에 속한다.**

<img src="./images/Big_O_graph.png" alt="Big_O_graph.png" width="600"/>

# 3. NP 문제

<mark>다항 시간 이내의 시간 복잡도로 검증 가능한 문제</mark>를 말한다.

**우선 모든 P문제는 NP문제에 포함된다.** 다항 시간 이내의 시간 복잡도로 문제를 해결할 수 있다면, 당연히 같은 시간 복잡도 내에 검증도 가능하기 때문이다.  
예를 들어, 누군가 제출한 답안이 문제의 정답인지 아닌지 검증해야한다고 가정해보자. 이 때 가장 무식한 방법은 직접 문제를 풀어서 정답을 구한 다음에 이를 제출한 답과 비교하는 것이다. 이렇게 가장 무식한 방법을 고려하면, P문제는 반드시 NP문제에 포함된다.

**어떤 문제들은 P문제가 아님에도 NP문제에 포함된다.** 가장 대표적으로 [스도쿠](https://www.acmicpc.net/problem/2580)가 있다.  
스도쿠 문제는 각 칸에 1 ~ 9 까지의 값이 들어갈 수 있다. 따라서 N개의 빈칸이 있을 때, 완전 탐색으로 풀이하면 `O(9**N)`의 시간복잡도가 소요된다.  
하지만 누군가가 답안을 제출했을 때 이를 검증하는 것은 훨씬 쉽다. 9개의 열, 행, 사각형을 순차탐색하면 되기 때문이다  
무엇을 N으로 잡느냐에 따라 시간복잡도의 표현식이 달라지겠지만, 똑같이 빈 칸의 갯수를 N이라 하면, 검증에는 빈칸의 갯수와 상관 없이 `O(3*9*9)`의 상수시간이 소요된다.

<img src="./images/sudoku.png" alt="sudoku.png" width="300"/>

# 4. NP 난해

<mark>다항 시간 이내의 시간 복잡도로 풀이 불가능한 문제</mark>를 말한다.

위의 문장이 NP난해의 대략적으로 설명할 수 있다고 생각하지만, 명확히 정의는 아니다. 참고로 위키피디아의 정의는 아래와 같은데, 여기서 **다대일 환산**의 개념이 일대일 환산을 포함하는 것인지 잘 모르겠다.

> NP-난해, NP-hard는 NP에 속하는 모든 판정 문제를 다항 시간에 다대일 환산할 수 있는 문제들의 집합이다. 다시 말하면, NP-난해는 적어도 모든 NP 문제만큼은 어려운 문제들의 집합이다.

이어서 나온 설명은 더 가관이다. P-NP문제의 판정 결과에 따라 P문제가 NP난해에 속할 수도 있고, 반대로 서로소일 수도 있다고 한다. 이런 것을 보면 NP난해는 NP문제 정의에 의존하는 추상적인 개념일 것이라고 추측한다.

> NP-난해 집합에 속하는 문제가 NP에도 속하면 NP-완전에 속한다. 즉, NP-완전은 NP와 NP-난해의 교집합이다. 만약 P-NP 문제가 P=NP로 풀린다면 P=NP=NP-완전이므로 P와 NP는 NP-난해의 부분집합이 되고, P≠NP인 경우는 P와 NP-난해는 서로소가 된다.

<img src="./images/p-np-graph.png" alt="p-np-graph.png" width="600"/>

**NP문제 중 다항시간 내에 풀이 불가능한 문제**가 여기에 속한다. 앞서 설명했던 스도쿠 문제가 포함된다.

**NP문제에 포함되지 않고 다항시간 내에 풀이 불가능한 문제**도 여기에 속한다. 가장 유명한 문제로는 외판원 순회가 있다. [외판원 문제](https://www.acmicpc.net/problem/2098)는 순열(permutation) 문제의 일종으로 `O(N!)`의 시간복잡도를 가지는데, 다항시간 내에 검증할 마땅한 방법이 없어 검증에도 역시 `O(N!)`의 시간이 소요된다.

# 5. NP 완전

<mark>다항 시간 이상의 시간 복잡도로 풀이 불가능하지만, 다항 시간의 시간복잡도로 검증 가능한 문제</mark>를 말한다. NP와 NP난해의 교집합이다.

NP문제에 설명했던 스도쿠 문제가 바로 NP 완전의 대표적인 예시이다.

# 6. P-NP 문제

<mark>P-NP문제는 P문제와 NP문제가 같은지 다른지를 증명하는 것이다.</mark> 다항시간 내에 검증이 가능한 문제라면, 우리가 아직 발견하지 못한 더 아름다운 알고리즘으로 결국에는 다항시간에 풀이 또한 가능하지 않을까하고 기대할 수 있다.

실제 알고리즘을 푸는 과정에서, 시간초과가 났을 때 더 나은 알고리즘을 써서 시간복잡도를 줄인 후 통과한 경험이 있을 것이다. 지금 대표적으로 생각나는 문제는 [세 용액](https://www.acmicpc.net/problem/2473)이다. 완전 탐색으로 풀면 모든 경우를 조합하여 `O(N**3)`의 시간 복잡도가 소요되는데, 투포인터를 이용하면 `O(N**2)`의 시간 복잡도로 줄일 수 있다.

하지만 ChatGPT피셜 아직까지 다항 시간 이상의 시간복잡도가 소요되는 문제가, 더 나은 알고리즘으로 다항 시간 이내의 시간복잡도로 풀이된 사례는 없다고 한다. 따라서 P와 NP가 다름을 증명하는게 더 가능성 있다고 생각하는데, 내가 뭘 알겠는가

# 7. 참고자료

- [위키피디아: P-NP 문제](https://ko.wikipedia.org/wiki/P-NP_%EB%AC%B8%EC%A0%9C)
- [위키피디아: NP 난해](https://ko.wikipedia.org/wiki/NP-%EB%82%9C%ED%95%B4#:~:text=NP%2D%EB%82%9C%ED%95%B4%2C%20NP%2Dhard,%ED%95%98%EB%A9%B4%20NP%2D%EC%99%84%EC%A0%84%EC%97%90%20%EC%86%8D%ED%95%9C%EB%8B%A4.)
