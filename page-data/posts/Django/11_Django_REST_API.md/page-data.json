{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/Django/11_Django_REST_API.md/","result":{"data":{"markdownRemark":{"id":"c91cc39d-6475-5267-8ca7-b04b0fd14d60","html":"<ul>\n<li><a href=\"#1-http\">1. HTTP</a>\n<ul>\n<li><a href=\"#11-http-%EC%A0%95%EC%9D%98\">1.1. HTTP 정의</a></li>\n<li><a href=\"#12-http%EC%9D%98-%ED%8A%B9%EC%A7%95\">1.2. HTTP의 특징</a></li>\n<li><a href=\"#13-http-request-methods\">1.3. HTTP Request Methods</a></li>\n<li><a href=\"#13-http-response-status-code\">1.3. HTTP Response Status Code</a></li>\n<li><a href=\"#14-uriuniform-resource-indentifier\">1.4. URI(Uniform Resource Indentifier)</a></li>\n<li><a href=\"#15-url-%EA%B5%AC%EC%A1%B0\">1.5. URL 구조</a></li>\n</ul>\n</li>\n<li><a href=\"#2-rest-api\">2. REST API</a>\n<ul>\n<li><a href=\"#21-api\">2.1. API</a></li>\n<li><a href=\"#22-restrestpresentational-state-trasfer\">2.2. REST(Restpresentational State Trasfer)</a></li>\n<li><a href=\"#23-json\">2.3. JSON</a></li>\n</ul>\n</li>\n<li><a href=\"#3-response-json\">3. Response JSON</a>\n<ul>\n<li><a href=\"#31-html-%EC%9D%91%EB%8B%B5\">3.1. HTML 응답</a></li>\n<li><a href=\"#22-jsonresponse%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\">2.2. JsonResponse()를 사용한 JSON 응답</a></li>\n<li><a href=\"#23-django-serializer%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\">2.3. Django Serializer를 사용한 JSON 응답</a></li>\n<li><a href=\"#24-django%EC%9D%98-rest-framework%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\">2.4. Django의 REST framework를 사용한 JSON 응답</a>\n<ul>\n<li><a href=\"#241-django-rest-framework\">2.4.1. Django REST framework</a></li>\n<li><a href=\"#242-modelserializer\">2.4.2. ModelSerializer</a></li>\n<li><a href=\"#243-example\">2.4.3. Example</a></li>\n<li><a href=\"#244-client%EC%9D%98-json-%EC%88%98%EC%8B%A0\">2.4.4. Client의 JSON 수신</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#3-django-rest-framework-single-model\">3. Django REST Framework, Single Model</a></li>\n<li><a href=\"#4-django-rest-framework-n1-relationship\">4. Django REST Framework, N:1 Relationship</a></li>\n<li><a href=\"#5-django-rest-framework-n1-relation-dereference\">5. Django REST Framework, N:1 Relation, Dereference</a></li>\n</ul>\n<hr>\n<h1 id=\"1-http\" style=\"position:relative;\"><a href=\"#1-http\" aria-label=\"1 http permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. HTTP</h1>\n<h2 id=\"11-http-정의\" style=\"position:relative;\"><a href=\"#11-http-%EC%A0%95%EC%9D%98\" aria-label=\"11 http 정의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.1. HTTP 정의</h2>\n<p>웹 상에서 리소스를 주고받는 규칙(프로토콜), 클라이언트와 서버는 요청과 응답을 주고 받는다.</p>\n<ul>\n<li><strong>요청(request)</strong>\n<ul>\n<li>클라이언트에 의해 전송되는 메시지</li>\n</ul>\n</li>\n<li><strong>응답(response)</strong>\n<ul>\n<li>서버에서 응답으로 전송되는 메시지</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"12-http의-특징\" style=\"position:relative;\"><a href=\"#12-http%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"12 http의 특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.2. HTTP의 특징</h2>\n<ul>\n<li><strong>Stateless(무상태)</strong>\n<ul>\n<li>동일한 연결에서 연속적으로 수행되는 두 요청 사이에 링크가 없음</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li><strong>쿠키와 세션</strong>\n<ul>\n<li>쿠키와 세션을 사용해 서버 상태를 요청에 함께 보냄</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"13-http-request-methods\" style=\"position:relative;\"><a href=\"#13-http-request-methods\" aria-label=\"13 http request methods permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.3. HTTP Request Methods</h2>\n<p>클라이언트 요청 시, 리소스(데이터)에 대한 행위를 구분한다.</p>\n<ul>\n<li><strong>GET</strong>\n<ul>\n<li>서버에 리소스의 표현을 요청</li>\n</ul>\n</li>\n<li><strong>POST</strong>\n<ul>\n<li>데이터를 지정된 리소스에 제출</li>\n</ul>\n</li>\n<li><strong>PUT</strong>\n<ul>\n<li>요청한 주소의 리소스를 수정</li>\n</ul>\n</li>\n<li><strong>POST</strong>\n<ul>\n<li>지정된 리소스를 삭제</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"13-http-response-status-code\" style=\"position:relative;\"><a href=\"#13-http-response-status-code\" aria-label=\"13 http response status code permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.3. HTTP Response Status Code</h2>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\">HTTP Response Status Code Docs</a><br>\n특정 HTTP 요청에 대한 서버의 처리결과를 나타내며, 크게 5개의 그룹으로 나뉜다.</p>\n<ul>\n<li>Informational Responses (100~199)</li>\n<li>Successful Responses (200~299)</li>\n<li>Redirection Responses (300~399)</li>\n<li>Client Error Responses (400~499)</li>\n<li>Server Error Responses (500~599)</li>\n</ul>\n<h2 id=\"14-uriuniform-resource-indentifier\" style=\"position:relative;\"><a href=\"#14-uriuniform-resource-indentifier\" aria-label=\"14 uriuniform resource indentifier permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.4. URI(Uniform Resource Indentifier)</h2>\n<p><strong>인터넷에서 하나의 리소스를 가리키는 문자열</strong></p>\n<ul>\n<li><strong>URN(Uniform Resource Name)</strong>\n<ul>\n<li>고유한 이름</li>\n</ul>\n</li>\n<li><strong>URL(Uniform Resource Locator)</strong>\n<ul>\n<li>리소스의 주소(위치)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"15-url-구조\" style=\"position:relative;\"><a href=\"#15-url-%EA%B5%AC%EC%A1%B0\" aria-label=\"15 url 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.5. URL 구조</h2>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1dfe4cb9394dcb9260d7beb2918709a3/f4206/url_structure.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 8.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAACABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAMBAv/aAAwDAQACEAMQAAAB1ZGZWHX/xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQMBAT8BEX//xAAWEQEBAQAAAAAAAAAAAAAAAAABEDL/2gAIAQIBAT8BNM//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAADAQAAAAAAAAAAAAAAAAAAAUEQ/9oACAEBAAE/IYR5/9oADAMBAAIAAwAAABD/AN//xAAVEQEBAAAAAAAAAAAAAAAAAAAQMf/aAAgBAwEBPxCJ/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA3/8QAGRABAAMBAQAAAAAAAAAAAAAAAQARIUGx/9oACAEBAAE/EKDJ2eUAoyf/2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"url_structure.jpg\" title=\"\" src=\"/static/1dfe4cb9394dcb9260d7beb2918709a3/b4294/url_structure.jpg\" srcset=\"/static/1dfe4cb9394dcb9260d7beb2918709a3/75985/url_structure.jpg 150w,\n/static/1dfe4cb9394dcb9260d7beb2918709a3/f93b5/url_structure.jpg 300w,\n/static/1dfe4cb9394dcb9260d7beb2918709a3/b4294/url_structure.jpg 600w,\n/static/1dfe4cb9394dcb9260d7beb2918709a3/8e1fc/url_structure.jpg 900w,\n/static/1dfe4cb9394dcb9260d7beb2918709a3/f4206/url_structure.jpg 1145w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<ul>\n<li><strong>Schema</strong>\n<ul>\n<li>브라우저가 리소스를 이용하는 데 사용해야할 프로토콜</li>\n<li>Ex: https:, mailto:, ftp:</li>\n</ul>\n</li>\n<li><strong>Authority</strong>\n<ul>\n<li><strong>Domain Name(IP 주소)</strong>\n<ul>\n<li>요청중인 웹 서버를 나타냄</li>\n<li>Domain Name 대신 IP주소를 사용해도 된다.</li>\n</ul>\n</li>\n<li><strong>Port</strong>\n<ul>\n<li>웹 서버의 리소스에 접근하는데 사용되는 기술적인 문</li>\n<li>HTTP 프로토콜의 표준 포트는 생략 가능하다.\n<ul>\n<li>HTTP - 80</li>\n<li>HTTPS - 443</li>\n</ul>\n</li>\n<li>Django의 경우 8000이 기본 포트로 설정되어 있다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Path</strong>\n<ul>\n<li>웹 서버의 리소스 경로, 물리적 주소가 아닌 설계자에 의해 추상화된 경로</li>\n</ul>\n</li>\n<li><strong>Parameters</strong>\n<ul>\n<li>웹 서버에 제공하는 추가적인 데이터</li>\n<li>'&#x26;'기호로 구분되는 key-value 쌍 목록</li>\n</ul>\n</li>\n<li><strong>Anchor</strong>\n<ul>\n<li>리소스 내부 일정의 북마크를 나타내며, 브라우저의 해당 북마크 지점에서 콘텐츠를 표시</li>\n<li>'#'(부분 식별자)이후 부분은 서버에 전송되지 않고, 브라우저가 사용</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"2-rest-api\" style=\"position:relative;\"><a href=\"#2-rest-api\" aria-label=\"2 rest api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. REST API</h1>\n<h2 id=\"21-api\" style=\"position:relative;\"><a href=\"#21-api\" aria-label=\"21 api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. API</h2>\n<p><strong>API(Application Programming Interface)</strong><br>\n애플리케이션과 프로그래밍으로 소통하는 방법. 복잡한 코드를 추상화하여 사용할 수 있는 쉬운 구문을 제공</p>\n<ul>\n<li><strong>Web API</strong>\n<ul>\n<li>웹 서버 또는 웹 브라우저를 위한 API</li>\n<li>주로 JSON 타입의 데이터를 응답</li>\n</ul>\n</li>\n<li><strong>Open API</strong>\n<ul>\n<li>개발자라면 누구나 사용할 수 있도록 공개된 API</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"22-restrestpresentational-state-trasfer\" style=\"position:relative;\"><a href=\"#22-restrestpresentational-state-trasfer\" aria-label=\"22 restrestpresentational state trasfer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. REST(Restpresentational State Trasfer)</h2>\n<p><strong>API Server를 개발하기 위한 일종의 소프트웨어 설계 방법론</strong></p>\n<ul>\n<li>\n<p><strong>특징</strong></p>\n<ul>\n<li><strong>자원의 식별</strong>\n<ul>\n<li>URI(URL)</li>\n</ul>\n</li>\n<li><strong>자원의 행위</strong>\n<ul>\n<li>HTTP Method</li>\n</ul>\n</li>\n<li><strong>자원의 표현</strong>\n<ul>\n<li>JSON</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"23-json\" style=\"position:relative;\"><a href=\"#23-json\" aria-label=\"23 json permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.3. JSON</h2>\n<p><strong>JavaScript의 표기법을 따른 단순 문자열</strong>로, 파이썬의 Dictionary 자바스크립트의 object처럼 C계열의 언어가 갖고 있는 자료구조로 쉽게 변환할 수 있는 key-value 형태의 구조를 가지고 있다.</p>\n<h1 id=\"3-response-json\" style=\"position:relative;\"><a href=\"#3-response-json\" aria-label=\"3 response json permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Response JSON</h1>\n<p>Django는 현업에서 주로 백엔드 Framework로 쓰인다. 따라서 프론트엔드와 소통할 때 html 문서가 아닌 json으로 응답한다.</p>\n<h2 id=\"31-html-응답\" style=\"position:relative;\"><a href=\"#31-html-%EC%9D%91%EB%8B%B5\" aria-label=\"31 html 응답 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1. HTML 응답</h2>\n<ul>\n<li>\n<p><strong>urls.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">import</span> views\r\n\r\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'html/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>article_html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p><strong>views.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>shortcuts <span class=\"token keyword\">import</span> render\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Article\r\n\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">article_html</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    articles <span class=\"token operator\">=</span> Article<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n      <span class=\"token string\">'articles'</span><span class=\"token punctuation\">:</span> articles<span class=\"token punctuation\">,</span>\r\n    <span class=\"token punctuation\">}</span>\r\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token string\">'articles/article.html'</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><strong>article.html</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">...\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>Article List<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>hr</span><span class=\"token punctuation\">></span></span>\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>\r\n    {% for article in articles %}\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span><span class=\"token punctuation\">></span></span>{{ article.pk }}번 글. {{ article.title }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>{{ article.content }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\r\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>hr</span><span class=\"token punctuation\">></span></span>\r\n    {% endfor %}\r\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\r\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"22-jsonresponse를-사용한-json-응답\" style=\"position:relative;\"><a href=\"#22-jsonresponse%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\" aria-label=\"22 jsonresponse를 사용한 json 응답 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. JsonResponse()를 사용한 JSON 응답</h2>\n<p><strong>Serilaize</strong><br>\nQueryset 및 Model Instance와 같은 복잡한 데이터를 JSON, XML과 같은 쉽게 변환 할 수 있는 원시 데이터타입으로 변환시키는 것</p>\n<ul>\n<li><strong>JsonResponse()</strong>\n<ul>\n<li>JSON-encoded response를 만드는 클래스</li>\n<li><strong>safe</strong>\n<ul>\n<li>Default: True</li>\n<li>False로 설정 시 모든 타입의 객체를 serialization할 수 있음, True일 경우 dictionary만 가능</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>\n<p><strong>urls.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">import</span> views\r\n\r\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'json1/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>jsonresponse<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p><strong>views.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>response <span class=\"token keyword\">import</span> JsonResponse\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Article\r\n\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">jsonresponse</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    articles <span class=\"token operator\">=</span> Article<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    articles_json <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\r\n\r\n    <span class=\"token keyword\">for</span> article <span class=\"token keyword\">in</span> articles<span class=\"token punctuation\">:</span>\r\n        <span class=\"token comment\"># 리스트[딕셔너리] 형태로 데이터를 형성</span>\r\n        articles_json<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>\r\n            <span class=\"token punctuation\">{</span>\r\n                <span class=\"token string\">'id'</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'title'</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'content'</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'created_at'</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">.</span>created_at<span class=\"token punctuation\">,</span>\r\n                <span class=\"token string\">'updated_at'</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">.</span>updated_at<span class=\"token punctuation\">,</span>\r\n            <span class=\"token punctuation\">}</span>\r\n        <span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">return</span> JsonResponse<span class=\"token punctuation\">(</span>articles_json<span class=\"token punctuation\">,</span> safe<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"23-django-serializer를-사용한-json-응답\" style=\"position:relative;\"><a href=\"#23-django-serializer%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\" aria-label=\"23 django serializer를 사용한 json 응답 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.3. Django Serializer를 사용한 JSON 응답</h2>\n<ul>\n<li>\n<p><strong>serializers.serialize(format, object)</strong></p>\n<ul>\n<li>object를 format으로 변환해줌</li>\n<li><strong>format</strong>\n<ul>\n<li>'xml' / 'json' / 'jsonl' / 'yaml'</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>urls.py</strong></p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">import</span> views\r\n\r\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'json2/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>django_serializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li><strong>views.py</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>response <span class=\"token keyword\">import</span> JsonResponse<span class=\"token punctuation\">,</span> HttpResponse\r\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>core <span class=\"token keyword\">import</span> serializers\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Article\r\n\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">django_serializer</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    articles <span class=\"token operator\">=</span> Article<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    data <span class=\"token operator\">=</span> serializers<span class=\"token punctuation\">.</span>serialize<span class=\"token punctuation\">(</span><span class=\"token string\">'json'</span><span class=\"token punctuation\">,</span> articles<span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">return</span> HttpResponse<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> content_type<span class=\"token operator\">=</span><span class=\"token string\">'application/json'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"24-django의-rest-framework를-사용한-json-응답\" style=\"position:relative;\"><a href=\"#24-django%EC%9D%98-rest-framework%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\" aria-label=\"24 django의 rest framework를 사용한 json 응답 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.4. Django의 REST framework를 사용한 JSON 응답</h2>\n<h3 id=\"241-django-rest-framework\" style=\"position:relative;\"><a href=\"#241-django-rest-framework\" aria-label=\"241 django rest framework permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.4.1. Django REST framework</h3>\n<p><strong>Django에서 RESTful API서버를 쉽게 구축할 수 있도록 도와주는 오픈소스 라이브러리</strong></p>\n<ul>\n<li>\n<p><strong>특징</strong></p>\n<ul>\n<li>Django의 Form, ModelForm과 유사하게 사용 가능하다.</li>\n</ul>\n</li>\n<li>\n<p><strong>설치 과정</strong></p>\n<ol>\n<li><code class=\"language-text\">pip install djangorestframework</code></li>\n<li><code class=\"language-text\">INSTALLED_APPS = [ 'rest_framework' ]</code></li>\n</ol>\n</li>\n</ul>\n<h3 id=\"242-modelserializer\" style=\"position:relative;\"><a href=\"#242-modelserializer\" aria-label=\"242 modelserializer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.4.2. ModelSerializer</h3>\n<p><strong>ModelSerializer 클래스는 Model Class를 바탕으로 형성하는 Serializer 클래스.</strong> <a href=\"https://www.django-rest-framework.org/api-guide/serializers/\">Serializer와 Deserialize와 관련한 다양한 메소드를 가진다</a></p>\n<ul>\n<li><strong>ModelSerializer(obj, ..., many=False)</strong>\n<ul>\n<li><strong>obj</strong>\n<ul>\n<li>Model의 객체 <code class=\"language-text\">obj</code>를 첫번째 인자로 받는다.</li>\n</ul>\n</li>\n<li><strong>many</strong>\n<ul>\n<li>True일 경우, 여러 개의 객체를 받을 수 있다.</li>\n</ul>\n</li>\n<li><strong>is_valid()</strong>\n<ul>\n<li>제출된 Serializer가 정의된 Model 구조에 유효한지를 검사</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>ModelSerializer는 Model 객체를 인자로 받아, 원시 파이선 데이터 타입으로 바꾼다. 이는 JSON은 아니지만 JSON으로 변환되기 쉬운 데이터 타입이다. 나중에 Response()시 renderer가 해당 원시타입(serializer.data)을 처리하여 보낸다.</p>\n<h3 id=\"243-example\" style=\"position:relative;\"><a href=\"#243-example\" aria-label=\"243 example permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.4.3. Example</h3>\n<ul>\n<li>\n<p><strong>serializers.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> serializers\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Article\r\n\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ArticleSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n\r\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\r\n        model <span class=\"token operator\">=</span> Article\r\n        fields <span class=\"token operator\">=</span> <span class=\"token string\">'__all__'</span></code></pre></div>\n</li>\n<li>\n<p><strong>urls.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">import</span> views\r\n\r\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'json3/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>RESTserializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p><strong>views.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>decorators <span class=\"token keyword\">import</span> api_view\r\n<span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>response <span class=\"token keyword\">import</span> Response\r\n\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>serializers <span class=\"token keyword\">import</span> ArticleSerializer\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Article\r\n\r\n<span class=\"token decorator annotation punctuation\">@api_view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">RESTserializer</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    articles <span class=\"token operator\">=</span> Article<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    serializer <span class=\"token operator\">=</span> ArticleSerializer<span class=\"token punctuation\">(</span>articles<span class=\"token punctuation\">,</span> many<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"244-client의-json-수신\" style=\"position:relative;\"><a href=\"#244-client%EC%9D%98-json-%EC%88%98%EC%8B%A0\" aria-label=\"244 client의 json 수신 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.4.4. Client의 JSON 수신</h3>\n<ul>\n<li><code class=\"language-text\">requests.get(url: str, params={key: value}, args)</code>\n<ul>\n<li>returns <code class=\"language-text\">requests.Response</code> object</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># pip install requests</span>\r\n<span class=\"token keyword\">import</span> requests\r\n<span class=\"token keyword\">from</span> pprint <span class=\"token keyword\">import</span> pprint\r\n\r\n<span class=\"token comment\"># 요청을 보냄</span>\r\nresponse <span class=\"token operator\">=</span> requests<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'http://127.0.0.1:8000/api/v1/json3/'</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token comment\"># json(): requests.Response -> dict</span>\r\nresult <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>json<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token comment\"># json.dumps() 등의 메소드는 dict &lt;-> json</span>\r\n\r\npprint<span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span></code></pre></div>\n<h1 id=\"3-django-rest-framework-single-model\" style=\"position:relative;\"><a href=\"#3-django-rest-framework-single-model\" aria-label=\"3 django rest framework single model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Django REST Framework, Single Model</h1>\n<ul>\n<li>\n<p><strong>urls.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">import</span> views\r\n\r\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'articles/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>article_list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'articles/&lt;int:article_pk>/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>article_detail<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p><strong>serializers.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> serializers\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Article\r\n\r\n<span class=\"token comment\"># 데이터의 어떠한 field를 read할 것이냐에 따라 Serializer를 만든다!!!!</span>\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ArticleListSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n\r\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\r\n        model <span class=\"token operator\">=</span> Article\r\n        fields <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'title'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'contnet'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ArticleSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n\r\n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\r\n      model <span class=\"token operator\">=</span> Article\r\n      fields <span class=\"token operator\">=</span> <span class=\"token string\">'__all__'</span></code></pre></div>\n</li>\n<li>\n<p><strong>views.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>response <span class=\"token keyword\">import</span> Response\r\n<span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>decorators <span class=\"token keyword\">import</span> api_view\r\n<span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> status\r\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>shortcuts <span class=\"token keyword\">import</span> get_object_or_404<span class=\"token punctuation\">,</span> get_list_or_404\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>serializers <span class=\"token keyword\">import</span> ArticleListSerializer<span class=\"token punctuation\">,</span> ArticleSerializer<span class=\"token punctuation\">,</span> CommentSerializer\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Article<span class=\"token punctuation\">,</span> Comment\r\n\r\n<span class=\"token decorator annotation punctuation\">@api_view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\"># decorator가 필수적으로 붙는다.</span>\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">article_list</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token comment\"># articles = Article.objects.all()</span>\r\n        articles <span class=\"token operator\">=</span> get_list_or_404<span class=\"token punctuation\">(</span>Article<span class=\"token punctuation\">)</span>\r\n        serializer <span class=\"token operator\">=</span> ArticleListSerializer<span class=\"token punctuation\">(</span>articles<span class=\"token punctuation\">,</span> many<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">elif</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">:</span>\r\n        serializer <span class=\"token operator\">=</span> ArticleSerializer<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 이것은 그냥 최종적으로 제출되는 JSON에 다라서 설정</span>\r\n        <span class=\"token keyword\">if</span> serializer<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span>raise_exception<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n            serializer<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">.</span>HTTP_201_CREATED<span class=\"token punctuation\">)</span>\r\n        <span class=\"token comment\"># return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)</span>\r\n\r\n\r\n<span class=\"token decorator annotation punctuation\">@api_view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'DELETE'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PUT'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">article_detail</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> article_pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token comment\"># article = Article.objects.get(pk=article_pk)</span>\r\n    article <span class=\"token operator\">=</span> get_object_or_404<span class=\"token punctuation\">(</span>Article<span class=\"token punctuation\">,</span> pk<span class=\"token operator\">=</span>article_pk<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\r\n        serializer <span class=\"token operator\">=</span> ArticleSerializer<span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">elif</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'DELETE'</span><span class=\"token punctuation\">:</span>\r\n        article<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">.</span>HTTP_204_NO_CONTENT<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">elif</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'PUT'</span><span class=\"token punctuation\">:</span>\r\n        serializer <span class=\"token operator\">=</span> ArticleSerializer<span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">if</span> serializer<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span>raise_exception<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n            serializer<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p><code class=\"language-text\">'api_view'== decorator</code></p>\n<ul>\n<li>해당 함수가 허용하는 HTTP 메소드 목록을 정의하며, 필수로 붙여줘야 한다.</li>\n<li>다른 메소드 요청에 대해서는 <strong>405 Method Not Allowed</strong>로 응답한다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">get_object_or_404(Model, {options})</code></p>\n<ul>\n<li>데이터베이스에서 option을 만족하는 객체를 ==하나==찾아 반환한다.</li>\n<li>없을 경우, <strong>404 Not Found</strong>로 응답한다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">get_list_or_404(Model, {options})</code></p>\n<ul>\n<li>데이터베이스에서 option을 만족하는 객체를 모두 찾아 리스트로 반환한다.</li>\n<li>없을 경우, <strong>404 Not Found</strong>로 응답한다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">serializer.is_valid(raise_exception=True)</code></p>\n<ul>\n<li>유효성 검사를 통과하지 못할 경우, <strong>400 Bad Request</strong>와 함께 관련된 데이터를 돌려보낸다.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">Response(data, ..., status)</code></p>\n<ul>\n<li>보낼 data를 데이터를 첫번재 인자로 받고, status는 http response method를 의미한다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"4-django-rest-framework-n1-relationship\" style=\"position:relative;\"><a href=\"#4-django-rest-framework-n1-relationship\" aria-label=\"4 django rest framework n1 relationship permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Django REST Framework, N:1 Relationship</h1>\n<ul>\n<li>\n<p><strong>urls.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> path\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span> <span class=\"token keyword\">import</span> views\r\n\r\nurlpatterns <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\r\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'comments/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>comment_list<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'comments/&lt;int:comment_pk>/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>comment_detail<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">]</span></code></pre></div>\n</li>\n<li>\n<p><strong>serializers.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> serializers\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Comment\r\n\r\n<span class=\"token comment\"># 데이터의 어떠한 field를 read할 것이냐에 따라 Serializer를 만든다!!!!</span>\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CommentSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n\r\n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\r\n      model <span class=\"token operator\">=</span> Comment\r\n      fields <span class=\"token operator\">=</span> <span class=\"token string\">'__all__'</span>\r\n      read_only_fields <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'article'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 생성 시에 is_valid()를 무사히 통과한 뒤에 별도로 넣어 줌. is_valid()에서 제외시킨다.</span>\r\n      <span class=\"token comment\"># Form 기능도 가지고 있다고 생각하자.</span></code></pre></div>\n</li>\n<li>\n<p><strong>views.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>response <span class=\"token keyword\">import</span> Response\r\n<span class=\"token keyword\">from</span> rest_framework<span class=\"token punctuation\">.</span>decorators <span class=\"token keyword\">import</span> api_view\r\n<span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> status\r\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>shortcuts <span class=\"token keyword\">import</span> get_object_or_404<span class=\"token punctuation\">,</span> get_list_or_404\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>serializers <span class=\"token keyword\">import</span> ArticleListSerializer<span class=\"token punctuation\">,</span> ArticleSerializer<span class=\"token punctuation\">,</span> CommentSerializer\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Article<span class=\"token punctuation\">,</span> Comment\r\n\r\n<span class=\"token decorator annotation punctuation\">@api_view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">comment_list</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token comment\"># comments = Comment.objects.all()</span>\r\n        comments <span class=\"token operator\">=</span> get_list_or_404<span class=\"token punctuation\">(</span>Comment<span class=\"token punctuation\">)</span>\r\n        serializer <span class=\"token operator\">=</span> CommentSerializer<span class=\"token punctuation\">(</span>comments<span class=\"token punctuation\">,</span> many<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token decorator annotation punctuation\">@api_view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'POST'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">comment_create</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> article_pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token comment\"># article = Article.objects.get(pk=article_pk)</span>\r\n    article <span class=\"token operator\">=</span> get_object_or_404<span class=\"token punctuation\">(</span>Article<span class=\"token punctuation\">,</span> pk<span class=\"token operator\">=</span>article_pk<span class=\"token punctuation\">)</span>\r\n    serializer <span class=\"token operator\">=</span> CommentSerializer<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">if</span> serializer<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span>raise_exception<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n        serializer<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>article<span class=\"token operator\">=</span>article<span class=\"token punctuation\">)</span>    <span class=\"token comment\"># 저장 전에, 외래키 값을 넣음.</span>\r\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">.</span>HTTP_201_CREATED<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token decorator annotation punctuation\">@api_view</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'DELETE'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'PUT'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">def</span> <span class=\"token function\">comment_detail</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> comment_pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token comment\"># comment = Comment.objects.get(pk=comment_pk)</span>\r\n    comment <span class=\"token operator\">=</span> get_object_or_404<span class=\"token punctuation\">(</span>Comment<span class=\"token punctuation\">,</span> pk<span class=\"token operator\">=</span>comment_pk<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">:</span>\r\n        serializer <span class=\"token operator\">=</span> CommentSerializer<span class=\"token punctuation\">(</span>comment<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">elif</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'DELETE'</span><span class=\"token punctuation\">:</span>\r\n        comment<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">.</span>HTTP_204_NO_CONTENT<span class=\"token punctuation\">)</span>\r\n\r\n    <span class=\"token keyword\">elif</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'PUT'</span><span class=\"token punctuation\">:</span>\r\n        serializer <span class=\"token operator\">=</span> CommentSerializer<span class=\"token punctuation\">(</span>comment<span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>request<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">if</span> serializer<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span>raise_exception<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n            serializer<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n            <span class=\"token keyword\">return</span> Response<span class=\"token punctuation\">(</span>serializer<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ul>\n<h1 id=\"5-django-rest-framework-n1-relation-dereference\" style=\"position:relative;\"><a href=\"#5-django-rest-framework-n1-relation-dereference\" aria-label=\"5 django rest framework n1 relation dereference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Django REST Framework, N:1 Relation, Dereference</h1>\n<ul>\n<li>\n<p><strong>serializers.py</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> rest_framework <span class=\"token keyword\">import</span> serializers\r\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Comment\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">CommentSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n\r\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ArticleSerializer</span><span class=\"token punctuation\">(</span>serializers<span class=\"token punctuation\">.</span>ModelSerializer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n  <span class=\"token comment\"># comment_set = serializers.PrimaryKeyRelatedField(many=True, read_only=True)</span>\r\n  comment_set <span class=\"token operator\">=</span> CommentSerializer<span class=\"token punctuation\">(</span>many<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> read_only<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\r\n  comment_count <span class=\"token operator\">=</span> serializers<span class=\"token punctuation\">.</span>IntegerField<span class=\"token punctuation\">(</span>source<span class=\"token operator\">=</span><span class=\"token string\">'comment_set.count'</span><span class=\"token punctuation\">,</span> read_only<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\r\n\r\n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\r\n      model <span class=\"token operator\">=</span> Article\r\n      fields <span class=\"token operator\">=</span> <span class=\"token string\">'__all__'</span></code></pre></div>\n<ul>\n<li><mark>외래키 <strong>참조/역참조</strong>하는 객체에 대한 Serializer를 참조할 때는 반드시 이름을 <strong>필드명/역참조 매니저</strong>와 일치시켜줘야 한다.</mark> 그래야지 Serializer에 어떤 객체를 넣어야할지 id값으로 장고가 처리할 수 있다.</li>\n<li><strong>source</strong>\n<ul>\n<li>받은 객체에 대한 ORM을 작성한다.</li>\n</ul>\n<ul>\n<li>Ex. <code class=\"language-text\">Article.comment_set.count() -> 'comment_set.count'</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-http\">1. HTTP</a></p>\n<ul>\n<li><a href=\"#11-http-%EC%A0%95%EC%9D%98\">1.1. HTTP 정의</a></li>\n<li><a href=\"#12-http%EC%9D%98-%ED%8A%B9%EC%A7%95\">1.2. HTTP의 특징</a></li>\n<li><a href=\"#13-http-request-methods\">1.3. HTTP Request Methods</a></li>\n<li><a href=\"#13-http-response-status-code\">1.3. HTTP Response Status Code</a></li>\n<li><a href=\"#14-uriuniform-resource-indentifier\">1.4. URI(Uniform Resource Indentifier)</a></li>\n<li><a href=\"#15-url-%EA%B5%AC%EC%A1%B0\">1.5. URL 구조</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-rest-api\">2. REST API</a></p>\n<ul>\n<li><a href=\"#21-api\">2.1. API</a></li>\n<li><a href=\"#22-restrestpresentational-state-trasfer\">2.2. REST(Restpresentational State Trasfer)</a></li>\n<li><a href=\"#23-json\">2.3. JSON</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-response-json\">3. Response JSON</a></p>\n<ul>\n<li>\n<p><a href=\"#31-html-%EC%9D%91%EB%8B%B5\">3.1. HTML 응답</a></p>\n</li>\n<li>\n<p><a href=\"#22-jsonresponse%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\">2.2. JsonResponse()를 사용한 JSON 응답</a></p>\n</li>\n<li>\n<p><a href=\"#23-django-serializer%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\">2.3. Django Serializer를 사용한 JSON 응답</a></p>\n</li>\n<li>\n<p><a href=\"#24-django%EC%9D%98-rest-framework%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-json-%EC%9D%91%EB%8B%B5\">2.4. Django의 REST framework를 사용한 JSON 응답</a></p>\n<ul>\n<li><a href=\"#241-django-rest-framework\">2.4.1. Django REST framework</a></li>\n<li><a href=\"#242-modelserializer\">2.4.2. ModelSerializer</a></li>\n<li><a href=\"#243-example\">2.4.3. Example</a></li>\n<li><a href=\"#244-client%EC%9D%98-json-%EC%88%98%EC%8B%A0\">2.4.4. Client의 JSON 수신</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-django-rest-framework-single-model\">3. Django REST Framework, Single Model</a></p>\n</li>\n<li>\n<p><a href=\"#4-django-rest-framework-n1-relationship\">4. Django REST Framework, N:1 Relationship</a></p>\n</li>\n<li>\n<p><a href=\"#5-django-rest-framework-n1-relation-dereference\">5. Django REST Framework, N:1 Relation, Dereference</a></p>\n</li>\n</ul>","frontmatter":{"createdAt":"2022-11-08","isCompleted":true,"reference":null,"title":"Django REST API","updatedAt":"2022-12-28"}}},"pageContext":{"pagePath":"posts/Django/11_Django_REST_API.md","id":"c91cc39d-6475-5267-8ca7-b04b0fd14d60","parent":{"id":"504ea83b-1e5d-5536-8c5a-ff13b99c1b13","name":"11_Django_REST_API","relativeDirectory":"Django","relativePath":"Django/11_Django_REST_API.md"}}},"staticQueryHashes":["3300660363","3571427910","82772122"],"slicesMap":{}}