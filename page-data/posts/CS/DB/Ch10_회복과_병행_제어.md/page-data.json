{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/CS/DB/Ch10_회복과_병행_제어.md/","result":{"data":{"markdownRemark":{"id":"5db80f97-072f-5eb3-bf21-b1315fea74e4","html":"<blockquote>\n<p>데이터베이스에 문제가 발생했을 때 이를 원래 상태로 회복하고, 사용자들이 데이터베이스를 동시에 사용하더라도 다툼 없이 사이좋게 사용할 수 있도록 하는 병행 제어 기능을 학습한다.</p>\n</blockquote>\n<ul>\n<li><a href=\"#101-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98\">10.1. 트랜잭션</a>\n<ul>\n<li><a href=\"#1011-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EA%B0%9C%EB%85%90\">10.1.1. 트랜잭션의 개념</a></li>\n<li><a href=\"#1012-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%ED%8A%B9%EC%84%B1\">10.1.2. 트랜잭션의 특성</a></li>\n<li><a href=\"#1013-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EC%97%B0%EC%82%B0\">10.1.3. 트랜잭션의 연산</a></li>\n<li><a href=\"#1014-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EC%83%81%ED%83%9C\">10.1.4. 트랜잭션의 상태</a></li>\n</ul>\n</li>\n<li><a href=\"#102-%EC%9E%A5%EC%95%A0%EC%99%80-%ED%9A%8C%EB%B3%B5\">10.2. 장애와 회복</a>\n<ul>\n<li><a href=\"#1021-%EC%9E%A5%EC%95%A0%EC%99%80-%EC%9C%A0%ED%98%95\">10.2.1. 장애와 유형</a></li>\n<li><a href=\"#1022-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%9D%98-%EC%A0%80%EC%9E%A5-%EC%97%B0%EC%82%B0\">10.2.2. 데이터베이스의 저장 연산</a></li>\n<li><a href=\"#1023-%ED%9A%8C%EB%B3%B5-%EA%B8%B0%EB%B2%95\">10.2.3. 회복 기법</a></li>\n</ul>\n</li>\n<li><a href=\"#103-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4\">10.3. 병행 제어</a>\n<ul>\n<li><a href=\"#1031-%EB%B3%91%ED%96%89-%EC%88%98%ED%96%89%EA%B3%BC-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4\">10.3.1. 병행 수행과 병행 제어</a></li>\n<li><a href=\"#1032-%EB%B3%91%ED%96%89-%EC%88%98%ED%96%89%EC%9D%98-%EB%AC%B8%EC%A0%9C\">10.3.2. 병행 수행의 문제</a></li>\n<li><a href=\"#1033-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EC%8A%A4%EC%BC%80%EC%A5%B4\">10.3.3. 트랜잭션 스케쥴</a></li>\n<li><a href=\"#1034-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4-%EA%B8%B0%EB%B2%95\">10.3.4. 병행 제어 기법</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"101-트랜잭션\" style=\"position:relative;\"><a href=\"#101-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98\" aria-label=\"101 트랜잭션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.1. 트랜잭션</h2>\n<h3 id=\"1011-트랜잭션의-개념\" style=\"position:relative;\"><a href=\"#1011-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EA%B0%9C%EB%85%90\" aria-label=\"1011 트랜잭션의 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.1.1. 트랜잭션의 개념</h3>\n<blockquote>\n<p>트랜잭션은 작업 하나를 수행하는 데 필요한 데이터베이스의 연산(SQL문)들을 모아놓은 것으로, 데이터베이스에서 논리적인 작업의 단위가 된다. 또한 데이터베이스에 장애가 발생했을 대 데이터를 복구하는 작업의 단위도 된다.</p>\n</blockquote>\n<p>예를들어 A가 B에게 500원을 이체하는 계좌이체 트랜잭션은 다음과 같이 2개의 SQL문으로 구성할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">UPDATE</span> 계좌\r\n<span class=\"token keyword\">SET</span> 잔액 <span class=\"token operator\">=</span> 잔액 <span class=\"token operator\">-</span> <span class=\"token number\">500</span>\r\n<span class=\"token keyword\">WHERE</span> 계좌소유자 <span class=\"token operator\">=</span> <span class=\"token string\">'A'</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">UPDATE</span> 계좌\r\n<span class=\"token keyword\">SET</span> 잔액 <span class=\"token operator\">=</span> 잔액 <span class=\"token operator\">+</span> <span class=\"token number\">500</span>\r\n<span class=\"token keyword\">WHERE</span> 계좌소유자 <span class=\"token operator\">=</span> <span class=\"token string\">'B'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>만일 시스템의 장애로 첫 번째 SQL문만 실행되는 오류가 발생하였다면, 시스템이 정상적으로 작동하게 되었을 때 두 번째 UPDATE문을 실행하거나, 첫 번째 UPDATE문의 실행을 취소하여 트랜잭션을 작업 전 상태로 되돌아가게 해야 한다.</p>\n<p>트랜잭션은 복구작업과 제어작업을 수행하는 중요한 단위로써, 트랜잭션의 모든 명령문이 완벽하게 처리되거나 하나도 처리되지 않아야 한다.</p>\n<h3 id=\"1012-트랜잭션의-특성\" style=\"position:relative;\"><a href=\"#1012-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%ED%8A%B9%EC%84%B1\" aria-label=\"1012 트랜잭션의 특성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.1.2. 트랜잭션의 특성</h3>\n<ul>\n<li><strong>원자성</strong><br>\n트랜잭션을 구성하는 연산들은 모두 실행되거나, 혹은 하나도 실행되지 않아야 한다. 즉 트랜잭션을 구성하는 연산 중 일부만 데이터베이스에 반영되는 일이 없게 한다.</li>\n<li><strong>일관성</strong><br>\n트랜잭션이 이루어진 후에도 데이터베이스의 일관성을 유지해야 한다. 즉 데이터베이스의 특징적인 제약이나 규칙을 만족해야 한다.</li>\n<li><strong>격리성</strong><br>\n현재 수행 중인 트랜잭션이 완료될 때까지 트랜잭션이 생성한 중간 연산 결과에 다른 트랜잭션들이 접근할 수 없음을 의미한다.</li>\n<li><strong>지속성</strong><br>\n트랜잭션이 성공적으로 완료된 후 데이터베이스에 반영한 수행 결과는 어떠한 경우에도 손실되지 않고 영구적이다. 즉, 시스템에 장애가 발생하더라도 트랜잭션 작업 결과는 없어지지 않고 데이터베이스에 그대로 남아 있도록 회복 기능을 가져야한다.</li>\n</ul>\n<p><mark style='background-color: #fff5b1'>위 트랜잭션의 4가지 특성은 각각 DBMS의 회복과 병행지원 기능으로 만족된다.</mark></p>\n<table>\n<thead>\n<tr>\n<th>DBMS 기능</th>\n<th>트랜잭션 특성</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>회복 기능</td>\n<td>원자성, 지속성</td>\n</tr>\n<tr>\n<td>병행 제어 기능</td>\n<td>일관성, 격리성</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"1013-트랜잭션의-연산\" style=\"position:relative;\"><a href=\"#1013-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EC%97%B0%EC%82%B0\" aria-label=\"1013 트랜잭션의 연산 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.1.3. 트랜잭션의 연산</h3>\n<ul>\n<li><strong>commit 연산</strong>\n<ul>\n<li>트랜잭션의 수행이 성공적으로 완료되었음을 선언하는 연산.</li>\n<li>연산의 결과를 데이터베이스에 반영한다.</li>\n</ul>\n</li>\n<li><strong>rollback 연산</strong>\n<ul>\n<li>트랜잭션의 수행이 실패했음을 선언하는 연산.</li>\n<li>트랜잭션의 연산 결과를 취소하고 트랜잭션이 수행되기 전의 상태로 돌아간다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"1014-트랜잭션의-상태\" style=\"position:relative;\"><a href=\"#1014-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EC%83%81%ED%83%9C\" aria-label=\"1014 트랜잭션의 상태 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.1.4. 트랜잭션의 상태</h3>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/TIL/static/f2eafa7cae2929f5c427249c0af9b47c/d318f/transaction-status.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABIklEQVR42o2QT0rDUBCHRy2luHDRE7g1iCuLniALwRvoVZLSCu0tskoI+UPgPZJA8kheQhJIXkhIPEKp0OpGwYW4qDywGxHxB8PA8A3zMQC/xDCMI951Xb9mjL1SSreu627jON4wxj49z7sFgBEADPM8t5Ik+aCUbhBCL3xvIAjCkBAihGE4ybLs0jTNCwA4URTllBAysyxr5jjOA0JI8n1/SSk92x+P4/geY7zwPE9SVXXKZyNRFMdpmj7meb5jjO3KsuwB4OCH+AD+G1mWD23bPkcITXh9Gx5zw7qu503TSBjjeVEUctu2C84CwJjLVFV1l6bpIooizkzhrx9qmnbVdd1zXddrhNC6LMtV3/fvQRDc7NmiKHRCyFsQBCuM8dMXlRqhswQQ6Y4AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"트랜잭션의 상태\" title=\"\" src=\"/TIL/static/f2eafa7cae2929f5c427249c0af9b47c/0a47e/transaction-status.png\" srcset=\"/TIL/static/f2eafa7cae2929f5c427249c0af9b47c/8a4e8/transaction-status.png 150w,\n/TIL/static/f2eafa7cae2929f5c427249c0af9b47c/5a46d/transaction-status.png 300w,\n/TIL/static/f2eafa7cae2929f5c427249c0af9b47c/0a47e/transaction-status.png 600w,\n/TIL/static/f2eafa7cae2929f5c427249c0af9b47c/1cfc2/transaction-status.png 900w,\n/TIL/static/f2eafa7cae2929f5c427249c0af9b47c/c1b63/transaction-status.png 1200w,\n/TIL/static/f2eafa7cae2929f5c427249c0af9b47c/d318f/transaction-status.png 1421w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<ul>\n<li><strong>활동 상태</strong><br>\n트랜잭션이 수행 중인 상태</li>\n<li><strong>부분 완료 상태</strong><br>\n트랜잭션의 마지막 연산까지 완료된 상태</li>\n<li><strong>완료 상태</strong><br>\ncommit 연산으로 트랜잭션의 수행 결과가 DB에 반영된 상태</li>\n<li><strong>실패 상태</strong><br>\n트랜잭션을 더 이상 정상적으로 수행할 수 없는 상태</li>\n<li><strong>철회 상태</strong><br>\n트랜잭션이 수행되기 전 데이터베이스 상태로 트랜잭션이 종료된 상태<br>\n철회된 트랜잭션은 상황에 다라 다시 수행되거나 폐기된다.</li>\n</ul>\n<h2 id=\"102-장애와-회복\" style=\"position:relative;\"><a href=\"#102-%EC%9E%A5%EC%95%A0%EC%99%80-%ED%9A%8C%EB%B3%B5\" aria-label=\"102 장애와 회복 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.2. 장애와 회복</h2>\n<p>데이터베이스의 회복 기능은 트랜잭션의 원자성을 보장하며, 데이터 베이스를 일관된 상태로 유지시킨다.</p>\n<h3 id=\"1021-장애와-유형\" style=\"position:relative;\"><a href=\"#1021-%EC%9E%A5%EC%95%A0%EC%99%80-%EC%9C%A0%ED%98%95\" aria-label=\"1021 장애와 유형 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.2.1. 장애와 유형</h3>\n<blockquote>\n<p>시스템이 제대로 동작하지 않는 상태를 장애라고 한다.</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>유형</th>\n<th>의미</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>트랜잭션 장애</td>\n<td>트랜잭션의 논리적 오류, 잘못된 데이터 입력, 시스템 자원의 과다 사용, 처리 대상 데이터의 부재</td>\n</tr>\n<tr>\n<td>시스템 장애</td>\n<td>하드웨어 이상으로 메인 메모리에 저장된 정보가 손실되거나 교착된 상태</td>\n</tr>\n<tr>\n<td>미디어 장애</td>\n<td>디스크 헤드의 손상이나 고장 등으로 데이터베이스의 일부가 손상된 상태</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"1022-데이터베이스의-저장-연산\" style=\"position:relative;\"><a href=\"#1022-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%9D%98-%EC%A0%80%EC%9E%A5-%EC%97%B0%EC%82%B0\" aria-label=\"1022 데이터베이스의 저장 연산 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.2.2. 데이터베이스의 저장 연산</h3>\n<ul>\n<li>\n<p><strong>저장장치 종류</strong><br>\n저장 장치는 장애가 발생했을 때 대응하는 방법에 따라 3 종류로 분류할 수 있다.</p>\n<table>\n<thead>\n<tr>\n<th>저장 장치</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>휘발성 저장 장치</td>\n<td>장애가 발생하면 저장된 데이터가 손실된다</td>\n</tr>\n<tr>\n<td>비휘발성 저장 장치</td>\n<td>장애가 발생해도 저장된 데이터가 손실되지 않는다. 다만 저장장치 자체에 이상이 발생하면 데이터가 손실된다.</td>\n</tr>\n<tr>\n<td>안정 저장 장치</td>\n<td>비휘발성 저장 장치를 이용해 데이터 복사본을 여러 개 만드는 것</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p><strong>데이터 이동 연산</strong><br>\n데이터베이스의 데이터를 CPU가 처리하기 위해서는 메인메모리로 데이터를 읽어와야 한다. 디스크와 메인 메모리 간의 데이터 이동은 블록단위로 수행된다.</p>\n<table>\n<thead>\n<tr>\n<th>연산</th>\n<th>의미</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>input()</td>\n<td>디스크 블록에 저장되어 잇는 데이터를 메인 메모리 버퍼 블록으로 이동시키는 연산</td>\n</tr>\n<tr>\n<td>output()</td>\n<td>메인 메모리 버퍼 블록에 있는 데이터를 디스크 블록으로 이동시키는 연산</td>\n</tr>\n<tr>\n<td>read()</td>\n<td>메인 메모리 버퍼 블록에 저장되어 있는 데이터를 프로그램 변수로 읽어오는 연산</td>\n</tr>\n<tr>\n<td>write()</td>\n<td>프로그램 변수 값을 메인 메모리 버퍼 블록에 있는 데이터에 기록하는 연산</td>\n</tr>\n</tbody>\n</table>\n<img src=\"./images/10-18_데이터_이동_연산.PNG\" width=\"600\">\n<!-- <img src=\"./images/10-19_트랜잭션_표현의_예.PNG\" width=\"400\"> -->\n</li>\n</ul>\n<h3 id=\"1023-회복-기법\" style=\"position:relative;\"><a href=\"#1023-%ED%9A%8C%EB%B3%B5-%EA%B8%B0%EB%B2%95\" aria-label=\"1023 회복 기법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.2.3. 회복 기법</h3>\n<p>데이터베이스 관리 시스템에 잇는 회복 관리자는 장애 발생을 탐지하고, 장애가 탐지되면 데이터베이스 복구 기능을 제공한다. <strong>데이터베이스를 복구하는 동안에는 데이터베이스에 접근하여 업무를 처리할 수 없다.</strong></p>\n<ul>\n<li>\n<p><strong>회복을 위한 연산</strong><br>\n데이터베이스 회복의 핵심원리는 데이터 중복(백업)이다.</p>\n<table>\n<thead>\n<tr>\n<th>연산</th>\n<th>의미</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>덤프(dump)</td>\n<td>데이터베이스 전체를 다른 저장 장치에 주기적으로 복사하는 방법</td>\n</tr>\n<tr>\n<td>로그(log)</td>\n<td>데이터베이스에서 변경 연산이 실행될 때마다 레코드를 기록하는 방법</td>\n</tr>\n</tbody>\n</table>\n<p>장애가 발생하였을 때는, 중복 저장한 데이터를 이용해 데이터베이스를 복구한다.</p>\n<table>\n<thead>\n<tr>\n<th>연산</th>\n<th>의미</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>재실행(redo)</td>\n<td>가장 최근에 저장한 데이터베이스 복사본을 가져오고, 로그를 이용해 저장 이후 변경 연산을 재실행한다.</td>\n</tr>\n<tr>\n<td>취소(undo)</td>\n<td>로그를 이용해 지금까지 실행된 변경 연산을 취소한다.</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p><strong>로그 레코드</strong></p>\n<p>로그는 데이터 손실이 발생하지 않는 저장 장치에 저장해두며, 로그 파일은 레코드 단위로 기록된다.</p>\n<table>\n<thead>\n<tr>\n<th>레코드</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&#x3C;T, start></td>\n<td>트랜잭션 T 수행 시작</td>\n</tr>\n<tr>\n<td>&#x3C;T, X, old_value, new_value></td>\n<td>트랜잭션 T가 데이터 X를 old_value에서 new_value로 변경</td>\n</tr>\n<tr>\n<td>&#x3C;T, commit></td>\n<td>트랜잭션 T가 성공적으로 완료</td>\n</tr>\n<tr>\n<td>&#x3C;T, abort></td>\n<td>트랜잭션 T가 철회</td>\n</tr>\n</tbody>\n</table>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/TIL/static/1ec78a91e19161cac86cf6816f470722/eabd5/10-22_%EB%A1%9C%EA%B7%B8%EC%9D%98_%EC%98%88.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB2G0IYSV//8QAGBABAQADAAAAAAAAAAAAAAAAAQAQEUL/2gAIAQEAAQUC6cMLu//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAAIDAAAAAAAAAAAAAAAAAAERABAx/9oACAEBAAE/IWWoMhKFar//2gAMAwEAAgADAAAAENvP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QCf/EAB0QAAICAgMBAAAAAAAAAAAAAAERACExQRBRYaH/2gAIAQEAAT8QOY3VSwsfYKwT04YmAGfBAAGj64//2Q=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"10 22      \" title=\"\" src=\"/TIL/static/1ec78a91e19161cac86cf6816f470722/b4294/10-22_%EB%A1%9C%EA%B7%B8%EC%9D%98_%EC%98%88.jpg\" srcset=\"/TIL/static/1ec78a91e19161cac86cf6816f470722/75985/10-22_%EB%A1%9C%EA%B7%B8%EC%9D%98_%EC%98%88.jpg 150w,\n/TIL/static/1ec78a91e19161cac86cf6816f470722/f93b5/10-22_%EB%A1%9C%EA%B7%B8%EC%9D%98_%EC%98%88.jpg 300w,\n/TIL/static/1ec78a91e19161cac86cf6816f470722/b4294/10-22_%EB%A1%9C%EA%B7%B8%EC%9D%98_%EC%98%88.jpg 600w,\n/TIL/static/1ec78a91e19161cac86cf6816f470722/eabd5/10-22_%EB%A1%9C%EA%B7%B8%EC%9D%98_%EC%98%88.jpg 711w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n</li>\n<li>\n<p><strong>회복 기법의 종류</strong></p>\n<ul>\n<li>\n<p><strong>즉시 갱신 회복 기법</strong></p>\n<p><mark style='background-color: #fff5b1'><strong>트랜잭션 수행 중에 변경한 연산의 결과를 데이터베이스에 즉시 반영한 경우</strong> (로그 레코드를 먼저 기록하고 데이터베이스를 변경한다)</mark><br>\n트랜잭션이 완료되기 전에 장애가 발생한 경우 undo 연산을 실행하고, 트랜잭션이 완료된 후에 장애가 발생한 경우 redo 연산을 실행한다.</p>\n</li>\n<li>\n<p><strong>지연 갱신 회복 기법</strong></p>\n<p><mark style='background-color: #fff5b1'><strong>트랜잭션이 부분 완료된 이후에 로그에 기록된 내용을 데이터베이스에 한 번에 반영</strong>하는 경우</mark><br>\n트랜잭션이 완료되기 전에 장애가 발생한 경우 로그만 버리고, 트랜잭션이 완료된 후에 장애가 발생한 경우 redo 연산을 실행한다.</p>\n</li>\n<li>\n<p><strong>검사 시점 회복 기법</strong></p>\n<p><strong>일정 시간 간격으로 검사시점을 만들어 로그 회복 기법의 시간을 단축시키는 방법.</strong><br>\n일정 시간 간격으로 메인 메모리에 모든 로그 레코드를 안정 저장 장치의 로그 파일에 기록하며, 트랜잭션을 데이터베이스에 반영한다. 그 다음, 검사 시점을 표시하는 &#x3C;checkpoint L> 로그 레코드를 로그 파일에 기록한다. L은 현재 실행되고 있는 트랜잭션 리스트이다.<br>\n장애가 발생하면 &#x3C;checkpoint L> 로그 레코드를 찾아 그 이후의 로그 기록에만 회복 작업을 수행한다.</p>\n</li>\n<li>\n<p><strong>미디어 회복 기법</strong></p>\n<p>비휘발성 저장 장치인 디스크에 장애가 발생할 경우를 대비해 데이터베이스 전체를 일정 주기마다 다른 안전한 장치에 <strong>덤프</strong>한다.</p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"103-병행-제어\" style=\"position:relative;\"><a href=\"#103-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4\" aria-label=\"103 병행 제어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.3. 병행 제어</h2>\n<h3 id=\"1031-병행-수행과-병행-제어\" style=\"position:relative;\"><a href=\"#1031-%EB%B3%91%ED%96%89-%EC%88%98%ED%96%89%EA%B3%BC-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4\" aria-label=\"1031 병행 수행과 병행 제어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.3.1. 병행 수행과 병행 제어</h3>\n<blockquote>\n<p>병행 수행은 트랜잭션이 차례로 번갈아 수행되는 인터리빙 방식으로 진행된다. 그런데 병행 수행되는 트랜잭션들이 동시에 같은 데이터에 접근하여 변경 연산을 실행하려고 할 경우, 예상치 못한 결과가 나타날 수도 있다.</p>\n</blockquote>\n<blockquote>\n<p>여러 개의 트랜잭션이 병행 수행되더라도 정확한 결과를 얻을 수 있도록 제어하는 것을 병행 제어(동시성 제어)라고 한다.</p>\n</blockquote>\n<h3 id=\"1032-병행-수행의-문제\" style=\"position:relative;\"><a href=\"#1032-%EB%B3%91%ED%96%89-%EC%88%98%ED%96%89%EC%9D%98-%EB%AC%B8%EC%A0%9C\" aria-label=\"1032 병행 수행의 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.3.2. 병행 수행의 문제</h3>\n<p>병행 수행 시 발생할 수 있는 문제들은 다음과 같다.</p>\n<ul>\n<li><strong>갱신 분실</strong><br>\n하나의 트랜잭션이 수행한 데이터 변경 연산의 결과를 다른 트랜잭션이 덮어써 변경 연산이 무효화되는 것<br>\n<img src=\"./images/10-30_갱신_분실.PNG\" alt=\"갱신분실\" width=\"500\"></li>\n<li><strong>모순성</strong><br>\n하나의 트랜잭션이 여러 개의 데이터 변경 연산을 실행할 대 일관성 없는 상태의 데이터베이스에서 데이터를 가져와 연산을 실행함으로써 모순된 결과가 발생하는 것<br>\n<img src=\"./images/10-32_모순성.PNG\" alt=\"모순성\" width=\"500\"></li>\n<li><strong>연쇄 복귀</strong><br>\n장애가 발생한 트랜잭션이 rollback 연산을 실행하기 전에, 변경한 데이터를 가져가 사용하는 다른 트랜잭션이 수행을 완료해버려 해당 연산에 rollback연산을 실행할 수 없는 것<br>\n<img src=\"./images/10-34_연쇄_복귀.PNG\" alt=\"연쇄복귀\" width=\"500\"></li>\n</ul>\n<h3 id=\"1033-트랜잭션-스케쥴\" style=\"position:relative;\"><a href=\"#1033-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EC%8A%A4%EC%BC%80%EC%A5%B4\" aria-label=\"1033 트랜잭션 스케쥴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.3.3. 트랜잭션 스케쥴</h3>\n<blockquote>\n<p>트랜잭션 스케쥴은 트랜잭션에 포함되어 있는 연산들은 수행하는 순서이다.</p>\n</blockquote>\n<ul>\n<li><strong>직렬 스케쥴</strong>\n<ul>\n<li>인터리빙 방식을 이용하지 않고 트랜잭션별로 연산들을 순차적으로 실행시키는 것</li>\n<li>정확한 결과를 얻을 수 있지만, 병행 수행이라고 할 수 없다.</li>\n</ul>\n</li>\n<li><strong>비직렬 스케쥴</strong>\n<ul>\n<li>인터리빙 방식을 이용하여 트랜잭션을 병행하여 실행시키는 것.</li>\n<li>병행 수행의 문제들이 발생할 수 있어 최종 수행 결과의 정확성을 보장할 수 없다.</li>\n</ul>\n</li>\n<li><strong>직렬 가능 스케쥴</strong>\n<ul>\n<li>정확한 결과를 보장하는 비직렬 스케쥴</li>\n</ul>\n</li>\n</ul>\n<p>직렬 가능 스케쥴인지 여부를 판단하는 일은 비용이 많이 든다. 따라서 대부분의 데이터베이스 관리시스템은 병행제어기법을 사용한다.</p>\n<h3 id=\"1034-병행-제어-기법\" style=\"position:relative;\"><a href=\"#1034-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4-%EA%B8%B0%EB%B2%95\" aria-label=\"1034 병행 제어 기법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>10.3.4. 병행 제어 기법</h3>\n<blockquote>\n<p>병행 제어 기법은 병행 수행되는 트랜잭션들이 <strong>미리 정의한 규약을 따름으로써 직렬 가능성을 보장하는 것이다.</strong></p>\n</blockquote>\n<ul>\n<li>\n<p><strong>로킹 기법의 개념</strong><br>\nlock연산을 통해 데이터에 독점권을 가질 수 있고, unlock연산을 통해 데이터 독점권을 반납할 수 있다.<br>\n로킹 단위가 커질 수록 제어가 간단하지만 병행 수행이 어려워지고, 작아질수록 병행 수행이 자유로워지지만 제어가 어려워진다.<br>\n또한 처리 효율성을 높이리 위해 로킹의 제약조건은 크게 공용 lock과 전용 lock으로 분류된다.</p>\n<table>\n<thead>\n<tr>\n<th>연산</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>공용(shared) lock</td>\n<td>데이터에 read 연산을 실행할 수 있지만 write 연산은 실행할 수 없다. 여러 트랜잭션이 동시에 한 데이터에 대해 공용 lock 연산을 실행할 수 있다.</td>\n</tr>\n<tr>\n<td>전용(exclusive) lock</td>\n<td>해당 트랜잭션만 데이터에 read / write 연산을 실행할 수 있다. 다른 트랜잭션은 어떠한 연산도 실행할 수 없다.</td>\n</tr>\n<tr>\n<td>unlock</td>\n<td>lock연산에 대한 권한을 반납한다.</td>\n</tr>\n</tbody>\n</table>\n<p>기본 로킹규약만으로는 직렬가능성이 보장되지 않기 때문에 2단계 로킹 규약을 추가해야한다.\r\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/TIL/static/499c9ff510f2bf3cc8e0f7a9b1ea991f/34e35/10-40_%EA%B8%B0%EB%B3%B8_%EB%A1%9C%ED%82%B9_%EA%B7%9C%EC%95%BD_%EC%98%88%EC%8B%9C.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 90.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB9u2S81WXYaB//8QAGBAAAwEBAAAAAAAAAAAAAAAAABARASH/2gAIAQEAAQUChxUhixf/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAVEAEBAAAAAAAAAAAAAAAAAAAgQf/aAAgBAQAGPwIwf//EABwQAAICAgMAAAAAAAAAAAAAAAABESEQMUFxwf/aAAgBAQABPyGc6R0sScbRFUcnRCPA9l1j/9oADAMBAAIAAwAAABCryED/xAAWEQEBAQAAAAAAAAAAAAAAAAAQAXH/2gAIAQMBAT8Q0p//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAdEAEAAgMAAwEAAAAAAAAAAAABABEhMUFRccHh/9oACAEBAAE/ELLFHIiGhxD/AE/kMhdkwEaZcxaHfiNNo1LV9yjwT//Z'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"기본 로킹 규약 예시\" title=\"\" src=\"/TIL/static/499c9ff510f2bf3cc8e0f7a9b1ea991f/b4294/10-40_%EA%B8%B0%EB%B3%B8_%EB%A1%9C%ED%82%B9_%EA%B7%9C%EC%95%BD_%EC%98%88%EC%8B%9C.jpg\" srcset=\"/TIL/static/499c9ff510f2bf3cc8e0f7a9b1ea991f/75985/10-40_%EA%B8%B0%EB%B3%B8_%EB%A1%9C%ED%82%B9_%EA%B7%9C%EC%95%BD_%EC%98%88%EC%8B%9C.jpg 150w,\n/TIL/static/499c9ff510f2bf3cc8e0f7a9b1ea991f/f93b5/10-40_%EA%B8%B0%EB%B3%B8_%EB%A1%9C%ED%82%B9_%EA%B7%9C%EC%95%BD_%EC%98%88%EC%8B%9C.jpg 300w,\n/TIL/static/499c9ff510f2bf3cc8e0f7a9b1ea991f/b4294/10-40_%EA%B8%B0%EB%B3%B8_%EB%A1%9C%ED%82%B9_%EA%B7%9C%EC%95%BD_%EC%98%88%EC%8B%9C.jpg 600w,\n/TIL/static/499c9ff510f2bf3cc8e0f7a9b1ea991f/34e35/10-40_%EA%B8%B0%EB%B3%B8_%EB%A1%9C%ED%82%B9_%EA%B7%9C%EC%95%BD_%EC%98%88%EC%8B%9C.jpg 777w\" sizes=\"(max-width: 600px) 100vw, 600px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span></p>\n</li>\n<li>\n<p><strong>2단계 로킹 규약</strong><br>\n2단계 로킹 규약은 트랜잭션의 상태를 2가지로 나눈다.</p>\n<table>\n<thead>\n<tr>\n<th>상태</th>\n<th>의미</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>확장 단계</td>\n<td>트랜잭션이 lock 연산만 실행할 수 있고, unlock 연산은 실행할 수 없는 단계</td>\n</tr>\n<tr>\n<td>축소 단계</td>\n<td>트랜잭션이 unlock 연산만 실행할 수 있고, lock 연산은 실행할 수 없는 단계</td>\n</tr>\n</tbody>\n</table>\n<img src=\"./images/10-42_2단계_로킹_규약.png\" alt=\"2단계 로킹\" width=600>\n<p>2단계 로킹 규약을 적용하면 트랜잭션의 직렬 가능성을 보장하지만, 교착 상태(daeadlock)가 발생할 수 있다. 교착상태는 트랜잭션들이 상대가 독점하고 잇는 데이터에 unlock연산이 실행되기를 서로 기다리면서 수행을 중단하고 있는 상태이다. 교착 상태는 처음부터 발생하지 않도록 예방하거나, 발생했을 때 빨리 탐지하여 필요한 조치를 취하는 방법으로 해결한다.</p>\n</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#101-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98\">10.1. 트랜잭션</a></p>\n<ul>\n<li><a href=\"#1011-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EA%B0%9C%EB%85%90\">10.1.1. 트랜잭션의 개념</a></li>\n<li><a href=\"#1012-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%ED%8A%B9%EC%84%B1\">10.1.2. 트랜잭션의 특성</a></li>\n<li><a href=\"#1013-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EC%97%B0%EC%82%B0\">10.1.3. 트랜잭션의 연산</a></li>\n<li><a href=\"#1014-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%98-%EC%83%81%ED%83%9C\">10.1.4. 트랜잭션의 상태</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#102-%EC%9E%A5%EC%95%A0%EC%99%80-%ED%9A%8C%EB%B3%B5\">10.2. 장애와 회복</a></p>\n<ul>\n<li><a href=\"#1021-%EC%9E%A5%EC%95%A0%EC%99%80-%EC%9C%A0%ED%98%95\">10.2.1. 장애와 유형</a></li>\n<li><a href=\"#1022-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%9D%98-%EC%A0%80%EC%9E%A5-%EC%97%B0%EC%82%B0\">10.2.2. 데이터베이스의 저장 연산</a></li>\n<li><a href=\"#1023-%ED%9A%8C%EB%B3%B5-%EA%B8%B0%EB%B2%95\">10.2.3. 회복 기법</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#103-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4\">10.3. 병행 제어</a></p>\n<ul>\n<li><a href=\"#1031-%EB%B3%91%ED%96%89-%EC%88%98%ED%96%89%EA%B3%BC-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4\">10.3.1. 병행 수행과 병행 제어</a></li>\n<li><a href=\"#1032-%EB%B3%91%ED%96%89-%EC%88%98%ED%96%89%EC%9D%98-%EB%AC%B8%EC%A0%9C\">10.3.2. 병행 수행의 문제</a></li>\n<li><a href=\"#1033-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EC%8A%A4%EC%BC%80%EC%A5%B4\">10.3.3. 트랜잭션 스케쥴</a></li>\n<li><a href=\"#1034-%EB%B3%91%ED%96%89-%EC%A0%9C%EC%96%B4-%EA%B8%B0%EB%B2%95\">10.3.4. 병행 제어 기법</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"createdAt":"2022-11-11","isCompleted":true,"reference":"김연희, 『데이터베이스 개론』, 한빛아카데미(2022.07.20), Chpater 10","title":"10. 회복과 병행 제어","updatedAt":"2023-03-30"}}},"pageContext":{"pagePath":"posts/CS/DB/Ch10_회복과_병행_제어.md","id":"5db80f97-072f-5eb3-bf21-b1315fea74e4","parent":{"id":"ab14948d-b578-51c8-a341-619d2ab1ff57","name":"Ch10_회복과_병행_제어","relativePath":"CS/DB/Ch10_회복과_병행_제어.md"}}},"staticQueryHashes":["3300660363","3571427910","82772122"],"slicesMap":{}}