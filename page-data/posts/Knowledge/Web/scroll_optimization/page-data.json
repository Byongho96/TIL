{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/Knowledge/Web/scroll_optimization/","result":{"data":{"markdownRemark":{"id":"b2ec0391-eeea-5181-9dfe-958058dc4fcf","html":"<blockquote>\n<p><a href=\"https://jbee.io/web/optimize-scroll-event/\">JBEE: 스크롤 이벤트 최적화</a> 글을 바탕으로 작성한 글이다.</p>\n</blockquote>\n<h1 id=\"1-스크롤-이벤트\" style=\"position:relative;\"><a href=\"#1-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%9D%B4%EB%B2%A4%ED%8A%B8\" aria-label=\"1 스크롤 이벤트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 스크롤 이벤트</h1>\n<p>의도한 건 아닌데 어쩌다가 <a href=\"https://jbee.io/web/optimize-scroll-event/\">스크롤 이벤트 최적화에 대한 포스팅</a>보게 되었고, 처음에는 이해하지 못해 애써 무시하다가, 어느 순간 갑자기 이해가 되서 이렇게 글로 다시 정리한다.</p>\n<pre><code class=\"language-js\">const handleScroll = () => {\n  console.log('scroll')\n}\n\nwindow.addEventListener('scroll', handleScroll)\n</code></pre>\n<p><img src=\"/TIL/9038eb48dad17d129ca04878c557a7e5/scroll-overhead.gif\" alt=\"스크롤 이벤트 오버헤드 gif\"></p>\n<p>스크롤처럼 연속적으로 발생하는 이벤트에 대해 리스너를 달 경우, 함수가 <del>미친듯이</del> 정말 많이 실행된다. 위 예시야 간단하게 콘솔만 출력하니까 부담이 덜 하겠지만, 요소의 <code>transform</code>을 계산해서 옮기는 등의 무거운 작업이 실행한다면 오버헤드가 발생할 것이다.</p>\n<p>이에 대해 두가지 해결책이 있다. <strong>각각의 방법에 특장점이 다르니 상황에 맞게 사용</strong>하면 된다.</p>\n<h1 id=\"2-throttle\" style=\"position:relative;\"><a href=\"#2-throttle\" aria-label=\"2 throttle permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. throttle</h1>\n<p><code>throttle</code>은 함수 실행의 오버헤드를 막기 위한 방법이다. 무거운 함수가 필요 이상으로 자주되는 상황을 방지하는데 효과적이다.</p>\n<h2 id=\"21-동작-원리\" style=\"position:relative;\"><a href=\"#21-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\" aria-label=\"21 동작 원리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. 동작 원리</h2>\n<p><code>throttle</code>은 특정 함수를 재실행하는 <strong>최소 주기를 설정</strong>한다. 자바스크립트 <strong>클로저 개념</strong>을 바탕으로 함수가 실행되 가장 마지막 시간에 대한 정보를 기억하고, 설정한 시간 이상이 지나야지만 다시 실행한다. <code>debounce</code>가 함수를 재실행하는 <strong>최소 시간 간격을 설정</strong>하는 것과 살짝 다르다.</p>\n<p><code>lodash</code> 라이브러리에 <code>throttle</code>함수가 있지만, <code>lodash</code> 라이브러리 자체가 굉장히 크기 때문에 쓰로틀 기능 만을 위해 설치하는 것은 추천하지 않는다. 그럼에도 쓰겠다면 <strong>웹팩 트리쉐이킹이 잘 동작하도록 아래와 같이 임포트</strong>해야 한다.</p>\n<pre><code class=\"language-js\">import throttle from 'lodash/throttle'\n\n// 아래 코드는 웹팩 5버번 기준, 트리쉐이킹이 이뤄지지 않아 빌드 결과물의 크기가 지나치게 커진다.\n// import { throttle } from 'lodash'\n</code></pre>\n<h2 id=\"22-타입스크립트-코드\" style=\"position:relative;\"><a href=\"#22-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%BD%94%EB%93%9C\" aria-label=\"22 타입스크립트 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. 타입스크립트 코드</h2>\n<p><code>loadash</code>라이브러리 대신 아래와 같이 간단하게 <code>throttle</code> 함수를 구현할 수 있다. 만일 타입 에러가 발생다면 아래 2가지를 체크해보길 바란다.</p>\n<pre><code class=\"language-js\">/**\n * 함수의 최소 실행 주기를 설정\n * @param cb 실행하고자 하는 콜백 함수\n * @param delay 최소 실행 주기 (ms)\n * @returns\n */\nexport default function throttle(cb: (...args: any[]) => void, delay: number) {\n  if (!cb) {\n    throw Error('Invalid required arguments')\n  }\n\n  let lastTime = 0 // 자유변수로 마지막 함수 실행시각 기억\n\n  return function (...args: any[]) {\n    // 현재 시간과 비교하여 delay만큼의 시간이 지난 경우에만 실행\n    const now = new Date().getTime()\n    if (now - lastTime > delay) {\n      cb.apply(this, args)\n      lastTime = now // 마지막 함수 실행시각 업데이트\n    }\n  }\n}\n</code></pre>\n<p>바인딩 하는 <code>this</code>의 타입이 유동적이기 때문에 <code>tsconfig.json</code> 파일을 아래와 같이 설정해야한다. 만일 프로젝트에서 <code>this</code> 사용할 일이 전혀 없다면, 그냥 위 코드에서 <code>cb.apply(this, args)</code>를 <code>cb()</code>로 바꿔서 제거해도 무관하다.</p>\n<pre><code class=\"language-json\">// tsconfig.json\n{\n  \"noImplicitThis\": false\n}\n</code></pre>\n<p>만약 eslint를 사용하고 있다면 아마 아래 규칙을 추가해야 할 것티다. 콜백함수가 어떤인자를 받을지 몰라 <code>any[]</code>로 선언해주었기 때문에 명시적인 <code>any</code>선언을 허용해야한다.</p>\n<pre><code class=\"language-js\">module.exports = {\n  ...,\n  rules: {\n    '@typescript-eslint/no-explicit-any': 0,\n  },\n}\n</code></pre>\n<h2 id=\"23-사용-예시\" style=\"position:relative;\"><a href=\"#23-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"23 사용 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.3. 사용 예시</h2>\n<pre><code class=\"language-js\">import throttle from './throttle.ts'\n\nconst handleScroll = () => {\n  console.log('scroll')\n}\n\nconst throttledHandleScroll = throttle(handleScroll, 100) // 최소 100ms 주기로 실행\n\nwindow.addEventListener('scroll', throttledHandleScroll)\n</code></pre>\n<h1 id=\"3-requestanimationframe\" style=\"position:relative;\"><a href=\"#3-requestanimationframe\" aria-label=\"3 requestanimationframe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. requestAnimationFrame</h1>\n<p><code>requestAnimationFrame</code>은 이름처럼 함수의 실행을 화면주사율에 맞춰 최적화는 방법이다. 따라서 실행하려는 함수가 화면 렌더링과 관련있을 때 가장 적합하다.</p>\n<h2 id=\"31-동작-원리\" style=\"position:relative;\"><a href=\"#31-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\" aria-label=\"31 동작 원리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1. 동작 원리</h2>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; margin-bottom: 20px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/TIL/static/58f512b616db27082c87d925c42d5e9a/3a737/javascript-event-loop-queue.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 78.85714285714285%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABJ0AAASdAHeZh94AAAC0UlEQVR42lWT23LjNhBE/f+fk8r7vibOzUnZsr2yRImSeAfvBEACxEkBkrxeVg0xBXIa3YPpB4B1XWnblmEYQkgpQyilPtd7Ps8zSivarqXrulCnteb+PPhX3/fsdju22y2bzYayLMnznDRNqaoq5HmWU5QFUkmssWSXjCzJuFwujOP4A9BaS13Xn6ziOCYvcoqiYB/tEUIE4GN8pKgK0jFlcAPN2tC7PqgToqLrO4wxV4Y+iaKIw+EQ2HkJXqKXd5esZ41WmmzJeJWvfGu/sVEvnKcz//z9xPPzc2AaGHoWXpaXfu9hlud8327Dt9P5TLTfU5Q5yXBhYaa1LcpJ1nXhVPQUWYK1hgfnXECehh4za2atmKaJpmkQVUXXNrS1oBaCshJIrXD+Ih1YB85BJQn1n5fiN0dtGZQN62wsdl0ZZ0evV6ZlJR8cb+XKTsBWwIcg5G8lxC2o8QbowSYDLwX8eYGnFKIGji18F3Du4dDCfzm8V5CNkPSwr6/fWgXTAou8AZoVyglO3fW0jxuDe+4LPZBffbQaotrxeLK8FiuzvY6LlV8k+35Ic/05H2FcoNOOuHN81LDz0RDyU+8oNTSjYpnl5/xZ9VMPfYc1q9FIPaOMRTvopom2n2gHRdP7i2qpREOZXeiSLUt9YulzljbFtNkXhotEJhtU9o7O3rB9jh0KVPwXtj5imxPq8MiSv+OkYMnfmPa/o5INsziiqwgzlLdLsUvYtLLDrYbVzKxmYYyfqJ9+YYweGaM/qP/9lenywtykyOSVcfcbs4iver3Cr172oEZ1GD1g9cA6TyxDydwk4eS5yzF9gR3F9dB5wsoGo8fQLm8/59YfgHXTUFYVSZqitGYxJgxxlpdIpUKeZDlpVpAkCedLEuzq67yjvO+9EW5z6ILdvPXUohBGcNRHIrnnpGNW62ikIxKGarTYeUI1Gbo6oEWMbjLWG0sP+D9SiMlJklXA4wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/TIL/static/58f512b616db27082c87d925c42d5e9a/c54d4/javascript-event-loop-queue.webp 175w,\n/TIL/static/58f512b616db27082c87d925c42d5e9a/a3432/javascript-event-loop-queue.webp 350w,\n/TIL/static/58f512b616db27082c87d925c42d5e9a/426ac/javascript-event-loop-queue.webp 700w,\n/TIL/static/58f512b616db27082c87d925c42d5e9a/10735/javascript-event-loop-queue.webp 897w\" sizes=\"(max-width: 700px) 100vw, 700px\" type=\"image/webp\">\n          <source srcset=\"/TIL/static/58f512b616db27082c87d925c42d5e9a/4edbd/javascript-event-loop-queue.png 175w,\n/TIL/static/58f512b616db27082c87d925c42d5e9a/13ae7/javascript-event-loop-queue.png 350w,\n/TIL/static/58f512b616db27082c87d925c42d5e9a/8c557/javascript-event-loop-queue.png 700w,\n/TIL/static/58f512b616db27082c87d925c42d5e9a/3a737/javascript-event-loop-queue.png 897w\" sizes=\"(max-width: 700px) 100vw, 700px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/TIL/static/58f512b616db27082c87d925c42d5e9a/8c557/javascript-event-loop-queue.png\" alt=\"자바스크립트 이벤트 루프의 다중 큐\" title=\"\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span>\n<p>알다시피 자바스크립트는 싱글스레드 언어이기 때문에 이벤트루프를 이용해서 비동기 함수를 처리한다. 이때 실행할 콜백함수가 큐에서 대기한다고 하는데, 실제로는 위와 같이 <strong>다중 큐</strong>에서 대기한다. 그리고 그림의 가장 아래에 보면 Animation frames라는 별도의 큐가 있다. <code>requestAnimation</code>으로 실행되는 콜백함수들이 바로 이 큐에서 별도로 관리된다.</p>\n<p><strong>Animation Frames에 있는 콜백함수는 브라우저 주사율에 맞춰 실행된다.</strong> 만약에 화면 주사율이 60Hz라면 콜백함수들이 1초에 60번, 그것도 화면 렌더링에 맞춰 실행되는 것이다.</p>\n<h2 id=\"32-타입스크립트-코드\" style=\"position:relative;\"><a href=\"#32-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%BD%94%EB%93%9C\" aria-label=\"32 타입스크립트 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2. 타입스크립트 코드</h2>\n<p>아래는 타입스크림트로 구현한 함수이다. 만일 타입 에러가 발생다면 그 아래 2가지를 체크해보길 바란다.</p>\n<pre><code class=\"language-js\">/**\n * 콜백함수 실행 주기를 브라우저 프레임 주사율에 동기화\n * @param cb 실행하려는 콜백함수\n * @param dismissCondition 선택인자: 콜백함수 전에 실행되어 콜백함수 실행중지 여부를 조절 가능\n * @param triggerCondition 선택인자: 콜백함수 전에 실행되어 콜백함수 실행 여부를 조절 가능\n * @returns\n */\nexport default function toFrame(\n  cb: (...args: any[]) => void,\n  dismissCondition: (...args: any[]) => boolean = () => false,\n  triggerCondition: (...args: any[]) => boolean = () => true\n) {\n  if (!cb) {\n    throw Error('Invalid required arguments')\n  }\n\n  let isQueue = false // 현재 콜백함수가 큐(대기열)에 있는지를 기억\n\n  return function (...args: any[]) {\n    // 이전 콜백함수가 대기열에 있다면\n    if (isQueue) return // 현재 콜백 함수를 파기\n\n    // 이전 콜백함수가 대기열에 없다면\n    isQueue = true // 대기 상태를 True로 변경하고, requestAnimationFrame으로 현재 콜백함수를 등록\n\n    return requestAnimationFrame(() => {\n      isQueue = false // 콜백함수가 실행되었으므로 대기상태를 False\n\n      // 실행중지 조건에 걸렸을 경우, 그냥 종료\n      if (dismissCondition()) {\n        return\n      }\n\n      // 실행 조건에 걸렷을 경우, 실제 로직 콜백함수 실행\n      if (triggerCondition()) {\n        return cb.apply(this, args)\n      }\n    })\n  }\n}\n</code></pre>\n<p>바인딩 하는 <code>this</code>의 타입이 유동적이기 때문에 <code>tsconfig.json</code> 파일을 아래와 같이 설정해야한다. 만일 프로젝트에서 <code>this</code> 사용할 일이 전혀 없다면, 그냥 위 코드에서 <code>cb.apply(this, args)</code>를 <code>cb()</code>로 바꿔서 제거해도 무관하다.</p>\n<pre><code class=\"language-json\">// tsconfig.json\n{\n  \"noImplicitThis\": false\n}\n</code></pre>\n<p>만약 eslint를 사용하고 있다면 아마 아래 규칙을 추가해야 할 것티다. 콜백함수가 어떤인자를 받을지 몰라 <code>any[]</code>로 선언해주었기 때문에 명시적인 <code>any</code>선언을 허용해야한다.</p>\n<pre><code class=\"language-js\">module.exports = {\n  ...,\n  rules: {\n    '@typescript-eslint/no-explicit-any': 0,\n  },\n}\n</code></pre>\n<h2 id=\"33-사용-예시\" style=\"position:relative;\"><a href=\"#33-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"33 사용 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.3. 사용 예시</h2>\n<pre><code class=\"language-js\">import toFrame from './toFrame.ts'\n\nconst handleScroll = () => {\n  console.log('scroll')\n}\n\nconst animationedHandleScroll = toFrame(handleScroll) // 브라우저 프레임 주기에 맞춰 실행\n\nwindow.addEventListener('scroll', animationedhandleScroll)\n</code></pre>\n<h1 id=\"4-참고자료\" style=\"position:relative;\"><a href=\"#4-%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"4 참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 참고자료</h1>\n<ul>\n<li><a href=\"https://jbee.io/web/optimize-scroll-event/\">JBEE: 스크롤 이벤트 최적화</a></li>\n<li><a href=\"https://inpa.tistory.com/entry/%F0%9F%8C%90-requestAnimationFrame-%EA%B0%80%EC%9D%B4%EB%93%9C\">Inpa Dev: 애니메이션 최적화 requestAnimationFrame 가이드</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%EC%8A%A4%ED%81%AC%EB%A1%A4-%EC%9D%B4%EB%B2%A4%ED%8A%B8\">1. 스크롤 이벤트</a></p>\n</li>\n<li>\n<p><a href=\"#2-throttle\">2. throttle</a></p>\n<ul>\n<li><a href=\"#21-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\">2.1. 동작 원리</a></li>\n<li><a href=\"#22-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%BD%94%EB%93%9C\">2.2. 타입스크립트 코드</a></li>\n<li><a href=\"#23-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">2.3. 사용 예시</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-requestanimationframe\">3. requestAnimationFrame</a></p>\n<ul>\n<li><a href=\"#31-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\">3.1. 동작 원리</a></li>\n<li><a href=\"#32-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%BD%94%EB%93%9C\">3.2. 타입스크립트 코드</a></li>\n<li><a href=\"#33-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">3.3. 사용 예시</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">4. 참고자료</a></p>\n</li>\n</ul>","frontmatter":{"title":"스크롤 이벤트 최적화 with 타입스크립트","createdAt":"2023-10-14","updatedAt":"2023-10-14","tags":["자바스크립트","브라우저","최적화","스크롤"],"description":"웹브라우저에서 스크롤/마우스 이벤트 리스너를 최적화하는 2가지 방법","reference":"https://jbee.io/web/optimize-scroll-event/"}},"allMarkdownRemark":{"nodes":[{"id":"439153ab-ec50-5444-b402-1ea4321ac3f9","excerpt":"과장 좀 해봤습니다. 1. 정적 이미지란? 1.…","parent":{"id":"190ab3aa-716f-54b2-b0b0-62f025a1931c","name":"image_lazy_loading","relativePath":"Knowledge/Web/image_lazy_loading.md"},"frontmatter":{"title":"정적 이미지를 로딩하는 가장 완벽한 방법","createdAt":"2023-10-15","updatedAt":"2023-10-15"},"fields":{"slug":"/posts/Knowledge/Web/image_lazy_loading/"}},{"id":"b2ec0391-eeea-5181-9dfe-958058dc4fcf","excerpt":"JBEE: 스크롤 이벤트 최적화 글을 바탕으로 작성한 글이다.…","parent":{"id":"5e79c1ba-f98a-58a1-a941-f180b9895cb2","name":"scroll_optimization","relativePath":"Knowledge/Web/scroll_optimization.md"},"frontmatter":{"title":"스크롤 이벤트 최적화 with 타입스크립트","createdAt":"2023-10-14","updatedAt":"2023-10-14"},"fields":{"slug":"/posts/Knowledge/Web/scroll_optimization/"}},{"id":"47a050ee-fc46-5a31-9cc6-ca08f8e2d193","excerpt":"1. 개요 취업 시즌을 맞아 채용공고가 많이 올라온다. 그 중 프론트 채용공고에서는 W3C 웹 표준이 자주 언급된다. 항상 크게 개의치 않고 넘겼는데, 어느 날 문득 생각해보니 웹표준에 대해 아는 바가 전혀 없었다. HTML, CSS…","parent":{"id":"6611cafc-efaa-5934-b459-053d8d31c79b","name":"web_standards","relativePath":"Knowledge/Web/web_standards.md"},"frontmatter":{"title":"웹 표준이란 무엇인가","createdAt":"2023-10-03","updatedAt":"2023-10-03"},"fields":{"slug":"/posts/Knowledge/Web/web_standards/"}},{"id":"66a9ac7c-16bb-5137-9764-72e5d0237e56","excerpt":"1. 웹 접근성 1.…","parent":{"id":"adf5296a-7c31-561e-bf33-41b333f256bb","name":"web_accessibility","relativePath":"Knowledge/Web/web_accessibility.md"},"frontmatter":{"title":"웹 접근성이란 무엇인가","createdAt":"2023-10-02","updatedAt":"2023-10-02"},"fields":{"slug":"/posts/Knowledge/Web/web_accessibility/"}}]}},"pageContext":{"pagePath":"/posts/Knowledge/Web/scroll_optimization/","siblingPostsPathRegex":"/^(?!.*README).*Knowledge\\/Web\\/.*$/","relativeDirectory":"Web","id":"b2ec0391-eeea-5181-9dfe-958058dc4fcf","parent":{"id":"5e79c1ba-f98a-58a1-a941-f180b9895cb2","name":"scroll_optimization","relativePath":"Knowledge/Web/scroll_optimization.md"},"fields":{"slug":"/posts/Knowledge/Web/scroll_optimization/"}}},"staticQueryHashes":["24302420","4059933791"],"slicesMap":{}}