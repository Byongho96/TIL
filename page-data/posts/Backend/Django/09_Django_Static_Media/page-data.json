{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/Backend/Django/09_Django_Static_Media/","result":{"data":{"markdownRemark":{"id":"e4c8a797-8a3b-52bb-a234-c26e492b1401","html":"<ul>\n<li><a href=\"#1-static-files\">1. Static Files</a>\n<ul>\n<li><a href=\"#11-static-files\">1.1. Static Files</a></li>\n<li><a href=\"#12-static-files-with-django\">1.2. Static Files with Django</a></li>\n<li><a href=\"#13-deploy-static-files\">1.3. Deploy Static Files</a>\n<ul>\n<li><a href=\"#131-static_root\">1.3.1. STATIC_ROOT</a></li>\n<li><a href=\"#132-procedure\">1.3.2. Procedure</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#2-media-files\">2. Media Files</a>\n<ul>\n<li><a href=\"#21-imagefield\">2.1. ImageField()</a>\n<ul>\n<li><a href=\"#212-filefield\">2.1.2. FileField()</a></li>\n</ul>\n</li>\n<li><a href=\"#22-before-using-media-files\">2.2. Before Using Media Files</a></li>\n</ul>\n</li>\n<li><a href=\"#3-image-file-crud\">3. Image File CRUD</a>\n<ul>\n<li><a href=\"#31-create\">3.1. Create</a></li>\n<li><a href=\"#32-read\">3.2. READ</a></li>\n<li><a href=\"#33-update\">3.3. UPDATE</a></li>\n</ul>\n</li>\n<li><a href=\"#4-image-resizing\">4. Image Resizing</a>\n<ul>\n<li><a href=\"#41-django-imagekit\">4.1. Django Imagekit</a></li>\n<li><a href=\"#42-make-thumbnail-without-saving-the-original-image\">4.2. Make Thumbnail Without Saving the Original Image</a></li>\n<li><a href=\"#43-make-thumbnail-with-saving-the-original-image\">4.3. Make Thumbnail With Saving the Original Image</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h1 id=\"1-static-files\" style=\"position:relative;\"><a href=\"#1-static-files\" aria-label=\"1 static files permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Static Files</h1>\n<h2 id=\"11-static-files\" style=\"position:relative;\"><a href=\"#11-static-files\" aria-label=\"11 static files permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.1. Static Files</h2>\n<p><strong>Files that do not require additional processing before being shown to the user.</strong> To request a static file to the server, we should know the address(url) of the file</p>\n<ul>\n<li><strong>Examples</strong>\n<ul>\n<li>media file</li>\n<li>javascript file</li>\n<li>CSS file</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"12-static-files-with-django\" style=\"position:relative;\"><a href=\"#12-static-files-with-django\" aria-label=\"12 static files with django permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.2. Static Files with Django</h2>\n<ol>\n<li>\n<p><strong>Check <code>INSTALLED_APPS</code> in settings.py</strong><br>\nIt is set by default.</p>\n<pre><code class=\"language-python\">INSTALLED_APPS = [\n django.contrib.staticfile,\n ... ]\n</code></pre>\n</li>\n<li>\n<p><strong>Set <code>STATIC_DIRS</code> in settings.py</strong><br>\nIt's about setting an additional static file path in addition to the app path.</p>\n<pre><code class=\"language-python\"># Default: []\nSTATICFILES_DIRS = [\n    BASE_DIR / 'static',\n]\n</code></pre>\n</li>\n<li>\n<p><strong>Set <code>STATIC_URL</code> in settings.py</strong><br>\nThe path corresponding to <code>STATIC_ROOT</code>. It is set to <code>STATIC_URL = '/static/'</code> by default.</p>\n</li>\n<li>\n<p><strong>Make 'static/app_name/' folder for each app to divide namespace</strong><br>\n<code>my_app/static/my_app/sample_img.jpg</code></p>\n</li>\n<li>\n<p><strong>print with static templates tags</strong></p>\n<pre><code class=\"language-html\">{% extends 'must_be_on_the_top.html' %}\n&#x3C;!-- import static -->\n{% load static %}\n&#x3C;img src=\"{% static 'app_name/img_name.jpg' %}\" />\n</code></pre>\n</li>\n</ol>\n<h2 id=\"13-deploy-static-files\" style=\"position:relative;\"><a href=\"#13-deploy-static-files\" aria-label=\"13 deploy static files permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.3. Deploy Static Files</h2>\n<h3 id=\"131-static_root\" style=\"position:relative;\"><a href=\"#131-static_root\" aria-label=\"131 static_root permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.3.1. STATIC_ROOT</h3>\n<p><strong>Where all the static files are collected</strong> when the command <code>collectstatic</code> is excuted. The default is <code>None</code>. If <code>DEBUG = TRUE</code>, STATIC_ROOT is not applied.</p>\n<p>It's required because the server which actually runs the project doesn't know where the static files are.</p>\n<h3 id=\"132-procedure\" style=\"position:relative;\"><a href=\"#132-procedure\" aria-label=\"132 procedure permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.3.2. Procedure</h3>\n<ol>\n<li><strong>Set <code>STATIC_ROOT</code> in settings.py</strong>\n<pre><code class=\"language-python\">STATIC_ROOT = BASE_DIR / 'staticfiles'\n</code></pre>\n</li>\n<li><strong>Run the cmd</strong><br>\n<code>python manage.py collectstatic</code></li>\n</ol>\n<h1 id=\"2-media-files\" style=\"position:relative;\"><a href=\"#2-media-files\" aria-label=\"2 media files permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Media Files</h1>\n<p><strong>The static files which are uploaded by the user.</strong></p>\n<h2 id=\"21-imagefield\" style=\"position:relative;\"><a href=\"#21-imagefield\" aria-label=\"21 imagefield permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. ImageField()</h2>\n<ul>\n<li><strong>The model field for image files.</strong></li>\n<li>It inherits FileField and has a function of checking the validity of an image file.</li>\n<li><strong>The instance of ImageField is a string with a maximum length of 100</strong>\n<ul>\n<li>The string is the path after <code>MEDIA_ROOT</code></li>\n<li>When the same name of image is saved in the exactly the same directory, a random string is added to the name</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"212-filefield\" style=\"position:relative;\"><a href=\"#212-filefield\" aria-label=\"212 filefield permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1.2. FileField()</h3>\n<p><strong>FileField(upload_to='', storage=None, max_length=100, **options)</strong></p>\n<ul>\n<li><strong>upload_to</strong>\n<ul>\n<li>setting the detailed path (path after MEDIA_ROOT)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"22-before-using-media-files\" style=\"position:relative;\"><a href=\"#22-before-using-media-files\" aria-label=\"22 before using media files permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. Before Using Media Files</h2>\n<ol>\n<li>\n<p><strong>Set <code>MEDIA_ROOT</code></strong><br>\nThe absolute path where all the media files will be stored. It must be different from <code>STATIC_ROOT</code></p>\n<pre><code class=\"language-python\"># Default: ''\nMEDIA_ROOT = BASE_DIR / 'media'\n</code></pre>\n</li>\n<li>\n<p><strong>Set <code>MEDIA_URL</code></strong><br>\nThe path corresponding to <code>MEDIA_ROOT</code>. It must be different from STATIC_URL.<br>\n<code>MEDIA_URL = '/media/'</code></p>\n</li>\n<li>\n<p><strong>Link MEDIA_URL to MEDIA_ROOT</strong></p>\n<pre><code class=\"language-python\"># project/urls.py\nfrom django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    ...,\n] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>\n</li>\n<li>\n<p><strong>Install Pillow library</strong><br>\nThe libarary which is necessary for processing image files in Python.<br>\n<code>pip install Pillow</code></p>\n</li>\n</ol>\n<h1 id=\"3-image-file-crud\" style=\"position:relative;\"><a href=\"#3-image-file-crud\" aria-label=\"3 image file crud permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Image File CRUD</h1>\n<h2 id=\"31-create\" style=\"position:relative;\"><a href=\"#31-create\" aria-label=\"31 create permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1. Create</h2>\n<ul>\n<li>\n<p><strong>models.py</strong></p>\n<pre><code class=\"language-python\">class Article(models.Model):\n    image = models.ImageField(blank=True, upload_to='images/')\n</code></pre>\n<ul>\n<li>\n<p><strong>blank</strong></p>\n<ul>\n<li>The field can be blank, and '' can pass the validation test.</li>\n<li>validation-related</li>\n</ul>\n</li>\n<li>\n<p><strong>upload_to(optional)</strong></p>\n<ul>\n<li>\n<p>Sets the detailed path (path after MEDIA_ROOT)</p>\n<ul>\n<li>Example of using Python time module<br>\n<code>upload_to = '%Y/%m/%d/</code></li>\n</ul>\n</li>\n<li>\n<p>A functon can be used as the parameter.</p>\n<pre><code class=\"language-python\">def articles_image_path(self, filename):\n    return f'images/{self.user.username}/{filename}'\n\nclass Article(models.Model):\n    image = models.ImageField(blank=True, upload_to=articles_image_path)\n</code></pre>\n<ul>\n<li>The arguments are fixed like above. <a href=\"https://docs.djangoproject.com/en/4.1/ref/models/fields/#filefield\">Django doc about upload_to</a></li>\n<li>pk can't be used in the function becuase the function is excuted before saved</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>create.html</strong></p>\n<pre><code class=\"language-html\">&#x3C;form action=\"#\" method=\"POST\" enctyp=\"multipart/form-data\">&#x3C;/form>\n</code></pre>\n<ul>\n<li><strong>enctype</strong>\n<ul>\n<li>Sets the encoding type of the form</li>\n<li>Default: aplication/x-www-from-rulencoded</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>views.py</strong></p>\n<pre><code class=\"language-python\">def created(request):\n    if request.method == 'POST':\n        form = ArticleForm(request.POST, request.FILES)\n    ...\n</code></pre>\n<ul>\n<li>BaseModelForm(data=None, files=None, ..., instance=None)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"32-read\" style=\"position:relative;\"><a href=\"#32-read\" aria-label=\"32 read permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2. READ</h2>\n<ul>\n<li><strong>detail.html</strong>\n<pre><code class=\"language-html\">{% if article.image %}\n&#x3C;img src=\"{{ article.image.url }}\" alt=\"{{ article.image }}\" />\n{% endif %}\n</code></pre>\n</li>\n</ul>\n<h2 id=\"33-update\" style=\"position:relative;\"><a href=\"#33-update\" aria-label=\"33 update permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.3. UPDATE</h2>\n<p><strong>Strictly speaking, it's not updating but a replacement</strong>\nThe manage the previous file, you should use an addtional library like <a href=\"https://pypi.org/project/django-cleanup/\">django-cleanup</a></p>\n<ul>\n<li><strong>update.html</strong>\n<pre><code class=\"language-html\">&#x3C;form action=\"#\" method=\"POST\" enctyp=\"multipart/form-data\">&#x3C;/form>\n</code></pre>\n</li>\n<li><strong>views.py</strong>\n<pre><code class=\"language-python\">def update(request):\n    article = Article.objects.get(pk=pk)\n    if request.method == 'POST':\n        form = ArticleForm(request.POST, request.FILES, instance=article)\n...\n</code></pre>\n</li>\n</ul>\n<h1 id=\"4-image-resizing\" style=\"position:relative;\"><a href=\"#4-image-resizing\" aria-label=\"4 image resizing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Image Resizing</h1>\n<p>Resizing the uploaded image to use storage space efficiently</p>\n<h2 id=\"41-django-imagekit\" style=\"position:relative;\"><a href=\"#41-django-imagekit\" aria-label=\"41 django imagekit permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.1. Django Imagekit</h2>\n<ol>\n<li><strong>Install dajngo-imagekit</strong>\n<ul>\n<li><code>pip install dajngo-imagekit</code></li>\n</ul>\n</li>\n<li><strong>Add to INSTALLED_APPS</strong>\n<ul>\n<li><code>INSTALLED_APPS = ['imagekit', ]</code></li>\n</ul>\n</li>\n</ol>\n<h2 id=\"42-make-thumbnail-without-saving-the-original-image\" style=\"position:relative;\"><a href=\"#42-make-thumbnail-without-saving-the-original-image\" aria-label=\"42 make thumbnail without saving the original image permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.2. Make Thumbnail Without Saving the Original Image</h2>\n<ul>\n<li>\n<p><strong>models.py</strong></p>\n<pre><code class=\"language-python\">from imagekit.processors import Thumbnail\nfrom imagekit.models import ProcessedImageField\n\nclass Article(models.Model):\n    image = ProcessedIamgeField(\n        blank=True,\n        upload_to='thumbnails/',\n        processors=[Thumbnail(200, 300)],   # pixel : width, height\n        format='JPEG',\n        options={'quality':80}              # resolution\n    )\n</code></pre>\n</li>\n</ul>\n<h2 id=\"43-make-thumbnail-with-saving-the-original-image\" style=\"position:relative;\"><a href=\"#43-make-thumbnail-with-saving-the-original-image\" aria-label=\"43 make thumbnail with saving the original image permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.3. Make Thumbnail With Saving the Original Image</h2>\n<ul>\n<li>\n<p><strong>models.py</strong></p>\n<pre><code class=\"language-python\">from imagekit.processors import Thumbnail\nfrom imagekit.models import ProcessedImageField, ImageSpecField\n\nclass Article(models.Model):\n    image = models.ImageField(blank=True)\n    image_thumbnail = ProcessedImageField(\n        source='image',\n        processors=[Thumbnail(200, 300)],   # pixel : width, height\n        format='JPEG',\n        options={'quality':80}              # resolution\n    )\n</code></pre>\n<ul>\n<li><strong>The column of the <code>image_thumbnail</code> is not created.</strong> Only a cache file is created in the cache folder when the field is used.</li>\n</ul>\n</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-static-files\">1. Static Files</a></p>\n<ul>\n<li>\n<p><a href=\"#11-static-files\">1.1. Static Files</a></p>\n</li>\n<li>\n<p><a href=\"#12-static-files-with-django\">1.2. Static Files with Django</a></p>\n</li>\n<li>\n<p><a href=\"#13-deploy-static-files\">1.3. Deploy Static Files</a></p>\n<ul>\n<li><a href=\"#131-static_root\">1.3.1. STATIC_ROOT</a></li>\n<li><a href=\"#132-procedure\">1.3.2. Procedure</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-media-files\">2. Media Files</a></p>\n<ul>\n<li>\n<p><a href=\"#21-imagefield\">2.1. ImageField()</a></p>\n<ul>\n<li><a href=\"#212-filefield\">2.1.2. FileField()</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#22-before-using-media-files\">2.2. Before Using Media Files</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-image-file-crud\">3. Image File CRUD</a></p>\n<ul>\n<li><a href=\"#31-create\">3.1. Create</a></li>\n<li><a href=\"#32-read\">3.2. READ</a></li>\n<li><a href=\"#33-update\">3.3. UPDATE</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-image-resizing\">4. Image Resizing</a></p>\n<ul>\n<li><a href=\"#41-django-imagekit\">4.1. Django Imagekit</a></li>\n<li><a href=\"#42-make-thumbnail-without-saving-the-original-image\">4.2. Make Thumbnail Without Saving the Original Image</a></li>\n<li><a href=\"#43-make-thumbnail-with-saving-the-original-image\">4.3. Make Thumbnail With Saving the Original Image</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Django Static Files","createdAt":"2022-11-08","updatedAt":"2022-12-27","tags":null,"description":null,"reference":null}},"allMarkdownRemark":{"nodes":[{"id":"64fe3ac3-9ec7-5057-b5cf-209ab5b38218","excerpt":"0. Cross Site Request Forgery(CSRF) 0.1. What is CSRF 0.2. CSRF Token 1. Model 1.1. models.py 2. Create 2.1. urls.py 2.2. views.py 2.…","parent":{"id":"b60ef590-337d-5fbc-ac3c-465bb644314e","name":"02_Django_CRUD","relativePath":"Backend/Django/02_Django_CRUD.md"},"frontmatter":{"title":"Django Basic CRUD","createdAt":"2022-11-08","updatedAt":"2022-12-24"},"fields":{"slug":"/posts/Backend/Django/02_Django_CRUD/"}},{"id":"20c8e53f-b1bb-519c-8683-ea0afda9e0f7","excerpt":"1. Django 1.1. Framework 1.2. Django 2. MTV Design Pattern 2.1. Design Pattern 2.2. MTV Design Pattern 3. Start Django 4. Django Folder…","parent":{"id":"318dafb0-b115-581e-8c4d-591d52550c0b","name":"01_Django_Basics_MTV","relativePath":"Backend/Django/01_Django_Basics_MTV.md"},"frontmatter":{"title":"Django Basics & MTV Design Pattern","createdAt":"2022-12-24","updatedAt":"2022-12-24"},"fields":{"slug":"/posts/Backend/Django/01_Django_Basics_MTV/"}},{"id":"f0b570c2-7aa3-5406-b3ed-5e4c7e6b403f","excerpt":"1. Model Form 1.1. Model Class 1.2. Form Class 1.3. ModeForm Class 2. Create 2.1. urls.py 2.2. views.py 2.3. templates.html 3. Read 3.…","parent":{"id":"4381f074-5ff2-5dfe-b751-1022d9d9f64c","name":"03_Django_CRUD_ModelForm","relativePath":"Backend/Django/03_Django_CRUD_ModelForm.md"},"frontmatter":{"title":"Django CRUD with Model Form","createdAt":"2022-11-08","updatedAt":"2022-12-24"},"fields":{"slug":"/posts/Backend/Django/03_Django_CRUD_ModelForm/"}},{"id":"2ceb5c6e-b5b1-5193-a1e5-f7a749ec9d9c","excerpt":"1. Fixtures 1.1. The Definition of Fixtures 1.2. The Default Path of Fixtures 1.3. Create Fixtures 1.4. Import Fixtures 1. Fixtures How to…","parent":{"id":"955390a3-0b4e-5e5e-8cbd-ce910a67d06a","name":"10_Django_Fixtures","relativePath":"Backend/Django/10_Django_Fixtures.md"},"frontmatter":{"title":"Django Fixtures","createdAt":"2022-11-08","updatedAt":"2022-12-27"},"fields":{"slug":"/posts/Backend/Django/10_Django_Fixtures/"}},{"id":"9574434a-4495-56c8-9640-5aeadb7128d9","excerpt":"1. Overview 1.1. Authentication 1.2. Authorization 1.3. accounts App 2. Custom User Model 2.1. User Model 2.2. Custom User Model 2.3. User…","parent":{"id":"268fc07e-bdb0-532f-9d53-80eaba647676","name":"04_Django_Authentication","relativePath":"Backend/Django/04_Django_Authentication.md"},"frontmatter":{"title":"Django Internal Authentication","createdAt":"2022-12-24","updatedAt":"2023-01-02"},"fields":{"slug":"/posts/Backend/Django/04_Django_Authentication/"}},{"id":"040f5a80-2e15-5109-bf84-5e6b71ad4657","excerpt":"1. Many to One Relationship 1.1. Foreign Key 2. Comment : Article (N:1) 2.1. Create 2.2. Read 2.3. Delete 3. Article : User (N:1) 3.…","parent":{"id":"e4d09ce7-8429-558f-854b-88c647667db3","name":"07_Django_Many_to_One","relativePath":"Backend/Django/07_Django_Many_to_One.md"},"frontmatter":{"title":"Django N:1 Realationship","createdAt":"2022-11-08","updatedAt":"2022-12-27"},"fields":{"slug":"/posts/Backend/Django/07_Django_Many_to_One/"}},{"id":"caac3b53-95e0-5573-b4b1-0fff44f462d2","excerpt":"1. Intro 1.1. Terms 1.2. The limits of N:1 Relationship 1.3. Intermediary Model 1.4. Many To Many Field 1.5. Many To Many Table 1.6. with…","parent":{"id":"a18f7611-d467-5606-863c-845e9beab7d9","name":"08_Django_Many_to_Many","relativePath":"Backend/Django/08_Django_Many_to_Many.md"},"frontmatter":{"title":"Django N:M Realationship","createdAt":"2022-11-08","updatedAt":"2022-12-27"},"fields":{"slug":"/posts/Backend/Django/08_Django_Many_to_Many/"}},{"id":"3a2ee22c-23db-53f4-8dec-93ac638a8eb6","excerpt":"1. QuerySet 1.1. Query 1.1. What is QuerySet 1.1.1. Check SQL Query 1.2. QuerySet API 1.3. QuerySet Evaluation and Caching 1.3.1. Evaluation…","parent":{"id":"e4db1fdd-48ab-522a-addc-f1db7b1effaa","name":"06_Django_QuerySet","relativePath":"Backend/Django/06_Django_QuerySet.md"},"frontmatter":{"title":"Django QuerySet","createdAt":"2022-12-24","updatedAt":"2022-12-25"},"fields":{"slug":"/posts/Backend/Django/06_Django_QuerySet/"}},{"id":"d9cb8064-70f5-510a-970b-b24c6ac5e394","excerpt":"1. HTTP 1.1. HTTP 정의 1.2. HTTP의 특징 1.3. HTTP Request Methods 1.3. HTTP Response Status Code 1.4. URI(Uniform Resource Indentifier) 1.5. URL…","parent":{"id":"af752c25-7364-5944-ae08-73a796a8712a","name":"11_Django_REST_API","relativePath":"Backend/Django/11_Django_REST_API.md"},"frontmatter":{"title":"Django REST API","createdAt":"2022-11-08","updatedAt":"2022-12-28"},"fields":{"slug":"/posts/Backend/Django/11_Django_REST_API/"}},{"id":"564ce658-4880-550f-ae36-5b903fb66632","excerpt":"1. CORS 1.1. Same Origin Policy 1.2. Definition of Origin 1.3. CORS 1.3.1. django-cors-headers 2. Authentication 2.1. Authentication Class…","parent":{"id":"0bc65511-c15f-5f37-9355-27e5d252a113","name":"12_Django_REST_Authentication","relativePath":"Backend/Django/12_Django_REST_Authentication.md"},"frontmatter":{"title":"Django REST Authentication","createdAt":"2023-01-02","updatedAt":"2023-01-12"},"fields":{"slug":"/posts/Backend/Django/12_Django_REST_Authentication/"}},{"id":"e4c8a797-8a3b-52bb-a234-c26e492b1401","excerpt":"1. Static Files 1.1. Static Files 1.2. Static Files with Django 1.3. Deploy Static Files 1.3.1. STATIC_ROOT 1.3.2. Procedure 2. Media Files…","parent":{"id":"688a0874-9671-5c95-b4b7-968e254af6fc","name":"09_Django_Static_Media","relativePath":"Backend/Django/09_Django_Static_Media.md"},"frontmatter":{"title":"Django Static Files","createdAt":"2022-11-08","updatedAt":"2022-12-27"},"fields":{"slug":"/posts/Backend/Django/09_Django_Static_Media/"}},{"id":"1f86280a-2c23-53ff-af3d-c1ed6d223cab","excerpt":"1. Database 1.1. RDB 1.2. Structure 2. SQL 2.1. SQL 2.2. Types of SQL Commands 2.3. SQL Syntax 2.4. Import .csv to Table 3. DDL 3.1. CREATE…","parent":{"id":"83db0b1c-e3f7-5201-8706-1cbbf4b61c7a","name":"05_SQLite3_SQL","relativePath":"Backend/Django/05_SQLite3_SQL.md"},"frontmatter":{"title":"SQL Basics","createdAt":"2022-12-28","updatedAt":"2022-12-28"},"fields":{"slug":"/posts/Backend/Django/05_SQLite3_SQL/"}}]}},"pageContext":{"pagePath":"/posts/Backend/Django/09_Django_Static_Media/","siblingPostsPathRegex":"/^(?!.*README).*Backend\\/Django.*$/","relativeDirectory":"Django","id":"e4c8a797-8a3b-52bb-a234-c26e492b1401","parent":{"id":"688a0874-9671-5c95-b4b7-968e254af6fc","name":"09_Django_Static_Media","relativePath":"Backend/Django/09_Django_Static_Media.md"},"fields":{"slug":"/posts/Backend/Django/09_Django_Static_Media/"}}},"staticQueryHashes":["24302420","4059933791"],"slicesMap":{}}