{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/Tools/Redis.md/","result":{"data":{"markdownRemark":{"id":"90feaee9-7d27-57e5-9b6d-de5f23cef12d","html":"<ul>\n<li><a href=\"#1-%EA%B0%9C%EC%9A%94\">1. 개요</a></li>\n<li><a href=\"#2-%EC%84%A4%EC%B9%98\">2. 설치</a>\n<ul>\n<li><a href=\"#21-linux\">2.1. Linux</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%84%A4%EC%A0%95\">3. 사용자 설정</a>\n<ul>\n<li><a href=\"#31-linux\">3.1. Linux</a>\n<ul>\n<li><a href=\"#311-acl-%EC%A1%B0%ED%9A%8C\">3.1.1. ACL 조회</a></li>\n<li><a href=\"#312-acl-%EC%88%98%EC%A0%95\">3.1.2. ACL 수정</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#4-django\">4. Django</a>\n<ul>\n<li><a href=\"#41-django-40-%EC%9D%B4%EC%83%81\">4.1. Django 4.0 이상</a></li>\n<li><a href=\"#42-django-40-%EB%AF%B8%EB%A7%8C\">4.2. Django 4.0 미만</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h1 id=\"1-개요\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EC%9A%94\" aria-label=\"1 개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 개요</h1>\n<blockquote>\n<p><a href=\"https://redis.io/docs/about/\">Redis</a>는 in-memory 데이터 구조 저장소를 지원하는 오픈 소스이다. 메모리를 데이터 저장소로 활용하기 때문에 데이터의 읽기/쓰기가 기존 디스크 기반 DBMS보다 빠르게 동작한다.</p>\n</blockquote>\n<ul>\n<li><strong>Redis 기능</strong>\n<ul>\n<li>문자열, 해쉬, 리스트, 집합 등 과 같은 다양한 데이터 구조와 그에 따른 연산을 지원한다.</li>\n<li>쿼리, 비트맵, HyperLogLog, 지리정보, 스트림과 같은 복합적인 데이터 구조 또한 지원한다.</li>\n<li>복제, LRU 알고리즘, 트랜잭션, 구독 등의 기능을 제공한다.</li>\n<li>디스크와 연동함으로써 데이터를 영구 보관할 수 있다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"2-설치\" style=\"position:relative;\"><a href=\"#2-%EC%84%A4%EC%B9%98\" aria-label=\"2 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 설치</h1>\n<p><a href=\"https://redis.io/docs/getting-started/installation/\">Redis 공식문서</a>에 설치 방법이 OS 별로 나와있다.</p>\n<h2 id=\"21-linux\" style=\"position:relative;\"><a href=\"#21-linux\" aria-label=\"21 linux permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. Linux</h2>\n<p><a href=\"https://redis.io/docs/getting-started/installation/install-redis-on-linux/\">Redis Linux 설치 방법</a>참고.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># https://packages.redis.io/gpg 로 부터 GPG 공개키를 가져온다.</span>\r\n<span class=\"token comment\"># 가져온 GPG 공개 키를 디코딩하고, /usr/share/keyrings/ 경로에 저장한다.</span>\r\n<span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> https://packages.redis.io/gpg <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> gpg <span class=\"token parameter variable\">--dearmor</span> <span class=\"token parameter variable\">-o</span> /usr/share/keyrings/redis-archive-keyring.gpg\r\n\r\n<span class=\"token comment\"># Redis 패키지 저장소를 추가한다.</span>\r\n<span class=\"token comment\"># $(lsb_release -cs)는 현재 사용 중인 Ubuntu 배포판의 코드네임이 들어간다</span>\r\n<span class=\"token comment\"># 명령어 출력을 etc/apt/sources.list.d/ 경로에 저장함으로써 apt 패키지 관리자가 Redis 패키지 저장소를 사용할 수 있도록 한다.</span>\r\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb [signed-by=/usr/share/keyrings/redis-archive-keyring.gpg] https://packages.redis.io/deb <span class=\"token variable\"><span class=\"token variable\">$(</span>lsb_release <span class=\"token parameter variable\">-cs</span><span class=\"token variable\">)</span></span> main\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/apt/sources.list.d/redis.list\r\n\r\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> update\r\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> redis</code></pre></div>\n<h1 id=\"3-사용자-설정\" style=\"position:relative;\"><a href=\"#3-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%84%A4%EC%A0%95\" aria-label=\"3 사용자 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 사용자 설정</h1>\n<h2 id=\"31-linux\" style=\"position:relative;\"><a href=\"#31-linux\" aria-label=\"31 linux permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1. Linux</h2>\n<p>Linux 상에서 사용자 설정은 <a href=\"https://redis.io/docs/management/security/acl/\">ACL(Redis Access Control List)</a>를 통해 이루어진다.</p>\n<h3 id=\"311-acl-조회\" style=\"position:relative;\"><a href=\"#311-acl-%EC%A1%B0%ED%9A%8C\" aria-label=\"311 acl 조회 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1.1. ACL 조회</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">redis-cli ACL LIST\r\n\r\n<span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"user default on nopass ~* &amp;* +@all\"</span></code></pre></div>\n<ul>\n<li><strong>default(username)</strong><br>\n원래 사용자의 username에 해당하는 부분으로, redis 설치 시에 default 유저는 기본으로 생성되고, redis 명령을 실행하는 default 유저로 동작한다.</li>\n<li><strong>on</strong><br>\n해당 유저가 활성화 되어 있다.</li>\n<li><strong>nopass</strong><br>\n해당 유저에 할당된 비밀번호가 없다.</li>\n<li><strong>~*</strong><br>\n해당 유저는 모든 정규식 패턴의 키에 접근할 수 있다.</li>\n<li><strong>&#x26;*</strong>\r\n해당 유저는 모든 정규식 패턴의 채널을 <a href=\"https://redis.io/docs/manual/pubsub/\">PUB/SUB</a> 하고 있다.</li>\n<li><strong>@all</strong>\r\n해당 유저가 모든 명령어를 실행할 권한을 가지고 있다.</li>\n</ul>\n<h3 id=\"312-acl-수정\" style=\"position:relative;\"><a href=\"#312-acl-%EC%88%98%EC%A0%95\" aria-label=\"312 acl 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1.2. ACL 수정</h3>\n<ul>\n<li>\n<p><strong>사용자 추가</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">redis-cli ACL SETUSER <span class=\"token punctuation\">{</span>username<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p><strong>사용자 설정</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">redis-cli AACL SETUSER <span class=\"token punctuation\">{</span>사용자 이름<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>활성화 여부<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>비밀번호 설정<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>접근 가능 key 설정<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>채널 설정<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>명령어 설정<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong>활성화 여부</strong>\n<ul>\n<li><strong>on</strong>\r\n해당 유저를 활성화한다.</li>\n<li><strong>off</strong><br>\n해당 유저를 비활성화한다.\r\n원래 사용자의 username에 해당하는 부분으로, redis 설치 시에 default 유저는 기본으로 생성되고, redis 명령을 실행하는 default 유저로 동작한다.</li>\n</ul>\n</li>\n<li><strong>비밀번호 설정</strong>\n<ul>\n<li><strong>>{password}</strong><br>\n비밀번호 목록에 password를 추가한다. 하나의 유저는 여러 비밀번호를 가질 수 잇다.</li>\n<li><strong>&#x3C;{password}</strong><br>\n비밀번호 목록에서 password를 제거한다.</li>\n<li><strong>resetpass</strong><br>\n해당 유저의 모든 비밀번호를 제거한다.</li>\n</ul>\n</li>\n<li><strong>접근 가능 key 설정</strong>\n<ul>\n<li><strong>~{reg}</strong><br>\n해당 유저가 접근할 수 있는 key를 정규식 패턴으로 추가한다.</li>\n<li><strong>%R~{reg}</strong> (Redis 7.0 >=)<br>\n해당 유저가 읽을 수 있는 key를 정규식 패턴을 추가한다.</li>\n<li><strong>%W~{reg}</strong> (Redis 7.0 >=)<br>\n해당 유저가 쓸 수 있는 key를 정규식 패턴으로 추가한다.</li>\n<li><strong>resetkeys</strong><br>\n해당 유저의 모든 키 패턴을 제거한다.</li>\n</ul>\n</li>\n<li><strong>Pub/Sub 설정</strong>\n<ul>\n<li><strong>&#x26;{reg}</strong><br>\n해당 유저가 접근할 채널을 key를 정규식 패턴으로 추가한다.</li>\n<li><strong>resetchannels</strong> (Redis 6.2 >=)<br>\n해당 유저가 접근 가능한 모든 채널을 삭제한다.</li>\n</ul>\n</li>\n<li><strong>명령어 설정</strong>\n<ul>\n<li><strong>+{command}</strong><br>\n해당 유저가 사용할 수 있는 명렁어를 추가한다.</li>\n<li><strong>-{command}</strong><br>\n해당 유저가 사용할 수 있는 명렁어를 제거한다.</li>\n<li><strong>+@{category}</strong><br>\n해당 유저가 사용할 수 있는 명렁어를 카테고리 단위로 추가한다.</li>\n<li><strong>-@{category}</strong><br>\n해당 유저가 사용할 수 있는 명렁어를 카테고리 단위로 제거한다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>사용자 인증</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">redis-cli AAUTH <span class=\"token punctuation\">{</span>username<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">{</span>password<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token operator\">></span> OK</code></pre></div>\n</li>\n</ul>\n<h1 id=\"4-django\" style=\"position:relative;\"><a href=\"#4-django\" aria-label=\"4 django permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Django</h1>\n<h2 id=\"41-django-40-이상\" style=\"position:relative;\"><a href=\"#41-django-40-%EC%9D%B4%EC%83%81\" aria-label=\"41 django 40 이상 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.1. Django 4.0 이상</h2>\n<ol>\n<li>\n<p><strong>Django 설정</strong><br>\nDjango 4.0 이상의 버전부터는 Django 자체적으로 Redis를 캐시 서버를 이용할 수 있도록 지원한다. <a href=\"https://docs.djangoproject.com/en/4.2/topics/cache/#redis\">공식문서</a>를 따라서 아래와 같이 설정할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">CACHES <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n <span class=\"token string\">\"default\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\r\n     <span class=\"token string\">\"BACKEND\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"django.core.cache.backends.redis.RedisCache\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token string\">\"LOCATION\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"redis://{IP 주소}:{포트 번호}\"</span><span class=\"token punctuation\">,</span>\r\n     <span class=\"token comment\"># 유저네임과 비밀번호 지정할 경우</span>\r\n     <span class=\"token comment\"># \"LOCATION\": \"redis://{redis 유저네임}:{redis 비밀번호}}@{IP 주소}:{포트 번호}\",</span>\r\n <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p><strong>redis-py 설치</strong><br>\n<a href=\"https://pypi.org/project/redis/\">공식문서</a>에 따라 설치한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ pip <span class=\"token function\">install</span> <span class=\"token string\">\"redis[hiredis]\"</span></code></pre></div>\n</li>\n<li>\n<p><strong>python 파일 내 사용</strong>\r\n<a href=\"https://redis.readthedocs.io/en/stable/commands.html\">공식문서</a>의 명령어를 참고해 사용한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> redis\r\nr <span class=\"token operator\">=</span> redis<span class=\"token punctuation\">.</span>Redis<span class=\"token punctuation\">(</span>decode_responses<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\r\nr<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mykey'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'thevalueofmykey'</span><span class=\"token punctuation\">)</span>\r\nr<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'mykey'</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ol>\n<h2 id=\"42-django-40-미만\" style=\"position:relative;\"><a href=\"#42-django-40-%EB%AF%B8%EB%A7%8C\" aria-label=\"42 django 40 미만 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.2. Django 4.0 미만</h2>\n<p>Django 4.0미만의 버전에서는 <a href=\"https://github.com/jazzband/django-redis\">django-redis</a>를 설치해 사용한다.</p>\n<ol>\n<li><strong>django-redis 설치</strong>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">CACHES <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token string\">\"default\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token string\">\"BACKEND\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"django_redis.cache.RedisCache\"</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token string\">\"LOCATION\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"redis://{IP 주소}:{포트 번호}/0\"</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token comment\"># 유저네임과 비밀번호 지정할 경우</span>\r\n        <span class=\"token comment\"># \"LOCATION\": \"redis://{redis 유저네임}:{redis 비밀번호}}@{IP 주소}:{포트 번호}/0\",</span>\r\n        <span class=\"token string\">\"OPTIONS\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\r\n            <span class=\"token string\">\"CLIENT_CLASS\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"django_redis.client.DefaultClient\"</span><span class=\"token punctuation\">,</span>\r\n        <span class=\"token punctuation\">}</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li><strong>python 파일 내 사용</strong>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>cache <span class=\"token keyword\">import</span> cache\r\ncache<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"value\"</span><span class=\"token punctuation\">,</span> timeout<span class=\"token operator\">=</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span>\r\ncache<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ol>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%EA%B0%9C%EC%9A%94\">1. 개요</a></p>\n</li>\n<li>\n<p><a href=\"#2-%EC%84%A4%EC%B9%98\">2. 설치</a></p>\n<ul>\n<li><a href=\"#21-linux\">2.1. Linux</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%84%A4%EC%A0%95\">3. 사용자 설정</a></p>\n<ul>\n<li>\n<p><a href=\"#31-linux\">3.1. Linux</a></p>\n<ul>\n<li><a href=\"#311-acl-%EC%A1%B0%ED%9A%8C\">3.1.1. ACL 조회</a></li>\n<li><a href=\"#312-acl-%EC%88%98%EC%A0%95\">3.1.2. ACL 수정</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-django\">4. Django</a></p>\n<ul>\n<li><a href=\"#41-django-40-%EC%9D%B4%EC%83%81\">4.1. Django 4.0 이상</a></li>\n<li><a href=\"#42-django-40-%EB%AF%B8%EB%A7%8C\">4.2. Django 4.0 미만</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"createdAt":"2023-04-28","isCompleted":true,"reference":null,"title":"Redis Basics","updatedAt":"2023-05-01"}}},"pageContext":{"pagePath":"posts/Tools/Redis.md","id":"90feaee9-7d27-57e5-9b6d-de5f23cef12d","parent":{"id":"3505f569-e786-5f7c-a76c-78dad3ef9d12","name":"Redis","relativePath":"Tools/Redis.md"}}},"staticQueryHashes":["2123968258","3571427910","82772122"],"slicesMap":{}}