{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/Frontend/React/responsive_loader/","result":{"data":{"markdownRemark":{"id":"340db7bc-71c4-530c-b15c-93ba0b54ff19","html":"<blockquote>\n<p>이 글에서는 responsive-loader를 적용하는 법을 중심적으로 다룬다. 원리에 대한 내용은 <a href=\"https://byongho96.github.io/TIL/posts/Knowledge/Web/image_lazy_loading/\">'정적 이미지를 로딩하는 가장 완벽한 방법'</a> 포스팅에 정리했다.</p>\n</blockquote>\n<h1 id=\"1-responsive-loader\" style=\"position:relative;\"><a href=\"#1-responsive-loader\" aria-label=\"1 responsive loader permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. responsive-loader</h1>\n<p>자바스크립트로 만들어진 웹팩 플러그인이다. <a href=\"https://www.npmjs.com/package/responsive-loader\">npm 패키지</a>로 배포되어 바로 설치해 사용할 수 있다.</p>\n<pre><code class=\"language-bash\">npm i responsive-loader\n</code></pre>\n<h1 id=\"2-사용법\" style=\"position:relative;\"><a href=\"#2-%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"2 사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 사용법</h1>\n<h2 id=\"21-웹팩-적용\" style=\"position:relative;\"><a href=\"#21-%EC%9B%B9%ED%8C%A9-%EC%A0%81%EC%9A%A9\" aria-label=\"21 웹팩 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. 웹팩 적용</h2>\n<p>아래와 같이 설정하면 프로젝트 코드 내에서 <code>import</code>하는 <strong>모든 png, jpg 파일에 대해서 로더가 동작한다.</strong> 로더에 따라 <code>import</code>하는 데이터의 형식이 달라지는 것을 유의하자.</p>\n<pre><code class=\"language-js\">module.exports = {\n  // ...\n  module: {\n    rules: [\n      {\n        test: /\\.(png|jpe?g)$/,\n        use: [\n          {\n            loader: 'responsive-loader',\n            options: {\n              sizes: [320, 640, 960, 1200, 1800, 2400], // 열거한 사이즈들에 대한 이미지들을 만든다.\n            },\n          },\n        ],\n        type: 'javascript/auto',\n      },\n    ],\n  },\n}\n</code></pre>\n<h2 id=\"22-타입-선언\" style=\"position:relative;\"><a href=\"#22-%ED%83%80%EC%9E%85-%EC%84%A0%EC%96%B8\" aria-label=\"22 타입 선언 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. 타입 선언</h2>\n<pre><code class=\"language-js\">import imgSrc from './images/example.png'\n</code></pre>\n<p>가장 기본적인 file-loader 등을 사용하면, <code>imgSrc</code>변수에 바로 <code>string</code>타입의 url 주소가 할당된다. 하지만 responsive-loader는 다양한 기능을 제공하므로 더 복잡한 타입을 반환한다. 따라서 타입스크립트를 사용할 경우, 다음과 같이 타입선언이 필요하다</p>\n<pre><code class=\"language-ts\">interface ResponsiveImageOutput {\n  src: string\n  srcSet: string\n  placeholder: string | undefined // data URL\n  images: { path: string; width: number; height: number }[]\n  width: number\n  height: number\n  toString: () => string\n}\n\ndeclare module '*.jpg' {\n  const src: ResponsiveImageOutput\n  export default src\n}\n\ndeclare module '*.png' {\n  const src: ResponsiveImageOutput\n  export default src\n}\n</code></pre>\n<h2 id=\"23-기본-사용\" style=\"position:relative;\"><a href=\"#23-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9\" aria-label=\"23 기본 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.3. 기본 사용</h2>\n<p>아래와 같이 사용할 수 있다.</p>\n<pre><code class=\"language-js\">import responsiveImage from 'img/myImage.png?format=jpg';\nimport responsiveImageWebp from 'img/myImage.jpg?format=webp';\n\n...\n  &#x3C;picture>\n    &#x3C;source srcSet={responsiveImageWebp.srcSet} type='image/webp' sizes='(min-width: 1024px) 1024px, 100vw'/>\n    &#x3C;img\n      src={responsiveImage.src}\n      srcSet={responsiveImage.srcSet}\n      width={responsiveImage.width}\n      height={responsiveImage.height}\n      sizes='(min-width: 1024px) 1024px, 100vw'\n      loading=\"lazy\"\n    />\n  &#x3C;/picture>\n</code></pre>\n<p>실제로 빌드를 해보면 아래 그림처럼 하나의 이미지에 대해서</p>\n<ol>\n<li>webpack에 설정한 너비 폭에 대응하는 파일을 만들고</li>\n<li>사용한 포맷(jpg, webp) 각각에 대한 이미지를 생성한다.</li>\n</ol>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; margin-bottom: 20px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/f7c2d/responsive-loader-build.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 51.42857142857144%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABJ0AAASdAHeZh94AAACOklEQVR42oWSW1PaABSE87f73j/Qf2A7tuq01SpSFY1CIdwCCeGehCRcExKQQS1IuH0dGKeP7c6cObtzdnb24QhhGLIMQ8Llkvl8zmLxynq9ZrlcsVmvmM1mhIsF4SLc3153ntedZ8V6tdp7d3u1XO5HUBsOJb1DoaxidfqMJwssvYbd0hEbHuOnGV13SH/o0x64dAYeXdej7we4wRg3GNH1hgz8EU7fRUhpFinNRHo4p1BUyecq1OQkzVKO4+tfBI9Topcn3N1F+frtkKurU65vLjg7+8JN7IJo9JQf50fc3//k6PgAoaZIlOUkG6CuKRx+eE+1oKHmFYrVJr3+AKfTZjAYEPgjfD8gCMZ43pAgeNP+iPFozNDzEeqKRKUgsdhCv+1QvL2kWchTKchcxeP0XZdI5IS7hzhKvo5SaKCpOnKuSknR//KKZpBLawhi9Azx8huHokYqKSJ9fEfGHKK2A3aYPj0x6HXodXsYuolpGFitFoau0zJNrJaJoTdxbJtmo44wDoZMRh6jxynTyZiJ59D3H3FHk33gy8sz2UyVetVCUVrIiWvkxC3p2wvkRIx84gYpdkExJZKIfkfYbrf8C8/Pz5Q1jZZhUq1U6dkmXbuFZZp0bBvHtrBMg17HwTJ0hM1mzWazYbPdsgvf6e0b3zf8PUOKRSjlkqTFKEXpgWwqwad4lXOpzGmmwecHlUi2zoGo/L/hfP5KXcnj6DUaqozdqNCslEjvvkDVyBdLZGSFUrmGlJX5Ay1JzDGpciOQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/c54d4/responsive-loader-build.webp 175w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/a3432/responsive-loader-build.webp 350w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/426ac/responsive-loader-build.webp 700w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/c139f/responsive-loader-build.webp 1050w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/7f403/responsive-loader-build.webp 1400w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/1a003/responsive-loader-build.webp 1785w\" sizes=\"(max-width: 700px) 100vw, 700px\" type=\"image/webp\">\n          <source srcset=\"/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/4edbd/responsive-loader-build.png 175w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/13ae7/responsive-loader-build.png 350w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/8c557/responsive-loader-build.png 700w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/e996b/responsive-loader-build.png 1050w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/2cefc/responsive-loader-build.png 1400w,\n/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/f7c2d/responsive-loader-build.png 1785w\" sizes=\"(max-width: 700px) 100vw, 700px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/TIL/static/be1fb9f51ba3b100f76db67f5dbc0a01/8c557/responsive-loader-build.png\" alt=\"responsive loader를 사용해서 이미지 빌드한 결과 비교\" title=\"\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span>\n<h1 id=\"3-커스텀-컴포넌트\" style=\"position:relative;\"><a href=\"#3-%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8\" aria-label=\"3 커스텀 컴포넌트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 커스텀 컴포넌트</h1>\n<p>정적 이미지는 프로젝트 전체에서 자주 사용될 것이므로, 하나의 독립적인 컴포넌트로 만들 수 있다.</p>\n<h2 id=\"31-소스-코드\" style=\"position:relative;\"><a href=\"#31-%EC%86%8C%EC%8A%A4-%EC%BD%94%EB%93%9C\" aria-label=\"31 소스 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1. 소스 코드</h2>\n<pre><code class=\"language-js\">import React, { useRef } from 'react'\nimport './StaticImage.scss'\n\ninterface Props {\n  webpSrc: ResponsiveImageOutput\n  imgSrc: ResponsiveImageOutput\n  alt: string\n  width?: string\n  height?: string\n  sizes?: string\n  loading?: 'eager' | 'lazy'\n  onLoad?: () => void\n}\n\nconst StaticImage: React.FC&#x3C;Props> = ({\n  webpSrc,\n  imgSrc,\n  alt,\n  width = '100%',\n  height = '100%',\n  sizes = '(max-width: 1200px) 100vw, 1201px',\n  loading = 'eager',\n  onLoad,\n}) => {\n  const picRef = useRef&#x3C;HTMLPictureElement>(null)\n\n  // 이미지가 로드되면 클래스를 추가해서 CSS 변경시켰다.\n  const handleLoad = function staticImageLoaded() {\n    const picture = picRef.current!\n    picture.classList.add('loaded')\n    onLoad &#x26;&#x26; onLoad()\n  }\n  return (\n    &#x3C;picture\n      ref={picRef}\n      className=\"static-image\"\n      style={{\n        backgroundImage:\n          'url(\"' +\n          (imgSrc.placeholder ? imgSrc.placeholder : DEV_BLUR_DATA) +\n          '\")',\n      }}\n    >\n      &#x3C;source srcSet={webpSrc.srcSet} type=\"image/webp\" sizes={sizes} />\n      &#x3C;img\n        alt={alt}\n        src={imgSrc.src}\n        srcSet={imgSrc.srcSet}\n        sizes={sizes}\n        loading={loading}\n        onLoad={handleLoad}\n        style={{ width, height }}\n      />\n    &#x3C;/picture>\n  )\n}\n\nexport default StaticImage\n</code></pre>\n<pre><code class=\"language-scss\">.static-image {\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  img {\n    display: block;\n    object-fit: cover;\n    opacity: 0;\n    transition: opacity 250ms ease-in-out;\n  }\n\n  &#x26;::before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    background-color: white;\n    animation: static-image-pulse 1500ms infinite;\n  }\n}\n\n@keyframes static-image-pulse {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 0.5;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n.static-image.loaded {\n  img {\n    opacity: 1;\n  }\n\n  &#x26;::before {\n    animation: none;\n    content: none;\n  }\n}\n</code></pre>\n<h2 id=\"32-사용-예시\" style=\"position:relative;\"><a href=\"#32-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"32 사용 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2. 사용 예시</h2>\n<p>아래처럼 손쉽게 사용할 수 있다.</p>\n<pre><code class=\"language-js\">import React from 'react'\nimport StaticImage from '@/atoms/ui/StaticImage'\n\nimport responsiveImage from '@/assets/images/home-section-2/narrow-1.jpg?format=jpg'\nimport responsiveImageWebp from '@/assets/images/home-section-2/narrow-1.jpg?format=webp'\n\nfunction Guide() {\n  return (\n    &#x3C;div>\n      &#x3C;StaticImage\n        webpSrc={responsiveImageWebp}\n        imgSrc={responsiveImage}\n        alt=\"햇살이 드는 카페 의자\"\n        width=\"40vw\"\n        height=\"30vw\"\n      />\n    &#x3C;/div>\n  )\n}\n</code></pre>\n<p><img src=\"/TIL/3f74a594c7cdccd735c2c0f8874bd2fb/static-image.gif\" alt=\"커스텀 정적 이미지 컴포넌트 사용\"></p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; margin-bottom: 20px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/TIL/static/294786f8ba6ba0961f809a0be9f026ba/5a6dd/responsive-loader-dom.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 57.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABJ0AAASdAHeZh94AAACJklEQVR42i2Q2W7bQAxF9f//E7QOULRZnARZ3BS2rH20jBZrtSzbip0Fp5hRHgiRnHvJQxmn05my7EnSliipEekWP+nw4hYv6RBxTSwb3QvTLUJ2OtSbL5V20llho73G6fyJyLY4UctaNLhRixNOA2zRaOFa1LrnRFNuhzVu3GJHDSu/wktaLFFrCON0/iCQE1UgO9JqjywHkqLX26O812RJ3msCkXZEWU9WDaTloOmULy52ujbO7x/EyqQpG8Ks1xFp87RIDVChLlHGpNjpRQokznrtV3Ve7ydCJVQNbcx3ergaFiiyYqcJo2yL3Oz0WapWS5Vmumanc/U13t8/kUVPWvTkZU+uTtkM2px808jNoH9FpAf3+l1Tfi8p6gNld2DYv2EAtM2RqjrQtgNZNRIUb3jZG34+RVSOyGrElkccOeJmKh8JNyNZfSTIjzjxgbg6YXx9fRFvjrhyIMk6TeOlexw5YMc73GQgzAfiQsWBpHojLkcdaX2iaI603cC2Gyi7ESPLM+ylg1ibOKbNqyn4a4YsViGLpcC2PF7NkNtFxPMy5sWULNaSpSP5Z8Us1ilPq5QXM+XVSjGEENwvfG4fTeZPFrO5z+Wdx2zuMpt7/L53uH12+Dn3uLhx+XHjcnHt8uvO5c/DmquHNZfXJrO5zdWjg1HXNb6fsbIS3DDHFQWWXxCIFOEG2H6GH+ZEQYTr59hBgaM1SpsjY0mRSmRaUJYV/wHxdiTmCiJyjAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/TIL/static/294786f8ba6ba0961f809a0be9f026ba/c54d4/responsive-loader-dom.webp 175w,\n/TIL/static/294786f8ba6ba0961f809a0be9f026ba/a3432/responsive-loader-dom.webp 350w,\n/TIL/static/294786f8ba6ba0961f809a0be9f026ba/426ac/responsive-loader-dom.webp 700w,\n/TIL/static/294786f8ba6ba0961f809a0be9f026ba/85811/responsive-loader-dom.webp 802w\" sizes=\"(max-width: 700px) 100vw, 700px\" type=\"image/webp\">\n          <source srcset=\"/TIL/static/294786f8ba6ba0961f809a0be9f026ba/4edbd/responsive-loader-dom.png 175w,\n/TIL/static/294786f8ba6ba0961f809a0be9f026ba/13ae7/responsive-loader-dom.png 350w,\n/TIL/static/294786f8ba6ba0961f809a0be9f026ba/8c557/responsive-loader-dom.png 700w,\n/TIL/static/294786f8ba6ba0961f809a0be9f026ba/5a6dd/responsive-loader-dom.png 802w\" sizes=\"(max-width: 700px) 100vw, 700px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/TIL/static/294786f8ba6ba0961f809a0be9f026ba/8c557/responsive-loader-dom.png\" alt=\"responsive loader로 제공하는 이미지의 DOM\" title=\"\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span>\n<h1 id=\"5-참고-자료\" style=\"position:relative;\"><a href=\"#5-%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\" aria-label=\"5 참고 자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 참고 자료</h1>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=fp9eVtkQ4EA&#x26;t=394s\">Web Dev Simplified: Make Your Site Lightning Fast With Responsive Images</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=hJ7Rg1821Q0\">Web Dev Simplified: How To Load Images Like A Pro</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=INPldifIEXE\">10분 테코톡: 록바의 웹 성능 개선하기 - 이미지</a></li>\n<li><a href=\"https://www.npmjs.com/package/responsive-loader\">npm: responsive-loader</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-responsive-loader\">1. responsive-loader</a></p>\n</li>\n<li>\n<p><a href=\"#2-%EC%82%AC%EC%9A%A9%EB%B2%95\">2. 사용법</a></p>\n<ul>\n<li><a href=\"#21-%EC%9B%B9%ED%8C%A9-%EC%A0%81%EC%9A%A9\">2.1. 웹팩 적용</a></li>\n<li><a href=\"#22-%ED%83%80%EC%9E%85-%EC%84%A0%EC%96%B8\">2.2. 타입 선언</a></li>\n<li><a href=\"#23-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9\">2.3. 기본 사용</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EC%BB%A4%EC%8A%A4%ED%85%80-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8\">3. 커스텀 컴포넌트</a></p>\n<ul>\n<li><a href=\"#31-%EC%86%8C%EC%8A%A4-%EC%BD%94%EB%93%9C\">3.1. 소스 코드</a></li>\n<li><a href=\"#32-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">3.2. 사용 예시</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5-%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\">5. 참고 자료</a></p>\n</li>\n</ul>","frontmatter":{"title":"React & Webpack 이미지 로딩 최적화","createdAt":"2023-10-16","updatedAt":"2023-10-16","tags":["react","webpack","웸팩","이미지","최적화","responsive-loader"],"description":"React와 Webpack환경에서 이미지 로딩 최적화 기법들을 responsive-loader 플러그인을 사용해서 적용했다","reference":null}},"allMarkdownRemark":{"nodes":[{"id":"686965c0-6280-5d37-9dc5-7f66341f4fdd","excerpt":"추후 참고하기 위해, 반복되는 CRA기반 리액트 초기 셋팅 작업을 공식문서들을 참고하여 정리한 문서입니다. 1. Create React App 2. eslint & prettier 2.1. eslint 2.2. prettier 3. React…","parent":{"id":"d9f9edaa-1b95-5100-bd47-d45bc63f29d5","name":"Create_React_App_Initial_Setting","relativePath":"Frontend/React/Create_React_App_Initial_Setting.md"},"frontmatter":{"title":"Create React App 초기 셋팅 정리","createdAt":"2023-04-23","updatedAt":"2023-04-28"},"fields":{"slug":"/posts/Frontend/React/Create_React_App_Initial_Setting/"}},{"id":"340db7bc-71c4-530c-b15c-93ba0b54ff19","excerpt":"이 글에서는 responsive-loader를 적용하는 법을 중심적으로 다룬다. 원리에 대한 내용은 '정적 이미지를 로딩하는 가장 완벽한 방법' 포스팅에 정리했다. 1. responsive-loader 자바스크립트로 만들어진 웹팩 플러그인이다. npm…","parent":{"id":"33721eb9-f3db-5fff-9657-051d86646050","name":"responsive_loader","relativePath":"Frontend/React/responsive_loader.md"},"frontmatter":{"title":"React & Webpack 이미지 로딩 최적화","createdAt":"2023-10-16","updatedAt":"2023-10-16"},"fields":{"slug":"/posts/Frontend/React/responsive_loader/"}},{"id":"dc8842b1-870b-58e5-bf26-f2bfeb739a7f","excerpt":"1. Context 1.1. Props와 비교 1.2. 사용 예시 2. useReducer 1.1. 개념 1.2. 예시 (원시 타입) 1.3. 예시(참조타입) 1. Context…","parent":{"id":"3bb6320c-de7a-5fc6-98b2-3b2c10ea6b10","name":"02_React_Context_API","relativePath":"Frontend/React/02_React_Context_API.md"},"frontmatter":{"title":"React Context API 란?","createdAt":"2023-05-02","updatedAt":"2023-05-08"},"fields":{"slug":"/posts/Frontend/React/02_React_Context_API/"}},{"id":"c919c895-9bcb-5e95-83ac-31a2a09d0a7c","excerpt":"1. useState란 무엇인가 리액트의 useState는 대표적으로 2가지 기능을 제공한다. 1. 컴포넌트가 리렌더링 되더라도 값을 유지하고,…","parent":{"id":"f9178901-27bc-5e53-b540-2c72031d0097","name":"react_form_data","relativePath":"Frontend/React/react_form_data.md"},"frontmatter":{"title":"React에서 formData 활용하기","createdAt":"2024-01-16","updatedAt":"2024-01-16"},"fields":{"slug":"/posts/Frontend/React/react_form_data/"}},{"id":"ee1b12d6-a243-50d5-ae99-32f322ad757f","excerpt":"1. Redux Toolkit 기본 사용 2. Redux Toolkit 비동기 2.1. 목표 2.2. createAsyncThunk 실전 예제 1. Redux Toolkit 기본 사용 Slice 생성\nslice…","parent":{"id":"e2d2b32a-0399-59ef-8f65-f072379a23bd","name":"03_React_Redux_Toolkit","relativePath":"Frontend/React/03_React_Redux_Toolkit.md"},"frontmatter":{"title":"Redux Toolkit 기본 사용법","createdAt":"2023-05-02","updatedAt":"2023-05-08"},"fields":{"slug":"/posts/Frontend/React/03_React_Redux_Toolkit/"}}]}},"pageContext":{"pagePath":"/posts/Frontend/React/responsive_loader/","siblingPostsPathRegex":"/^(?!.*README).*Frontend\\/React.*$/","relativeDirectory":"React","id":"340db7bc-71c4-530c-b15c-93ba0b54ff19","parent":{"id":"33721eb9-f3db-5fff-9657-051d86646050","name":"responsive_loader","relativePath":"Frontend/React/responsive_loader.md"},"fields":{"slug":"/posts/Frontend/React/responsive_loader/"}}},"staticQueryHashes":["24302420","4059933791"],"slicesMap":{}}