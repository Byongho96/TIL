{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/Animation/Infinite_Text_Tape.md/","result":{"data":{"markdownRemark":{"id":"b0cbb5c6-bb89-5972-8720-50aadbc98a6f","html":"<h1 id=\"1-목표\" style=\"position:relative;\"><a href=\"#1-%EB%AA%A9%ED%91%9C\" aria-label=\"1 목표 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 목표</h1>\n<p><a href=\"https://www.youtube.com/watch?v=z9hN9PXhe-A\">\"YouTube: 자바스크립트로 5분만에 텍스트 스크롤 애니메이션 효과(text marquee effect) 마스터하기, 맛있는 코딩\"</a> 를 따라잡고, 이를 커스텀할 수 있는 리액트 컴포넌트로 만드는게 목표다.</p>\n<p>다음과 같은 Prop을 받아 리액트 컴포넌트를 커스텀할 수 있도록 할 것이다.</p>\n<pre><code class=\"language-js\">type Props = {\n  text?: string     // 텍스트 문구\n  fontColor?: string    // 텍스트 색깔\n  tapeColor?: string    // 테이프 색깔\n  isRight?: boolean     // 텍스트 흐름 방향\n  rotationDeg?: number  // 테이프 회전 각도\n}\n</code></pre>\n<h1 id=\"2-전체-코드\" style=\"position:relative;\"><a href=\"#2-%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\" aria-label=\"2 전체 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 전체 코드</h1>\n<h2 id=\"21-리액트-코드\" style=\"position:relative;\"><a href=\"#21-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EC%BD%94%EB%93%9C\" aria-label=\"21 리액트 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. 리액트 코드</h2>\n<p>강의의 자바스크립트 코드를 리액트 컴포넌트를 만들었다.</p>\n<p>Prop의 변화에 따라 속성을 변하게 하기 위해, <code>useEffect</code>문에 실행코드를 넣고 적절히 클린업함수를 작성했다.</p>\n<pre><code class=\"language-js\">import React, { useEffect, useRef } from 'react'\nimport './style.scss'\n\ntype Props = {\n  text?: string\n  fontColor?: string\n  tapeColor?: string\n  isRight?: boolean\n  rotationDeg?: number\n}\n\nconst ScrollInfiniteTape: React.FC = ({\n  text = 'Lorem ipsum',\n  fontColor = 'black',\n  tapeColor = 'yellow',\n  isRight = true,\n  rotationDeg = 0,\n}: Props) => {\n  const tapeRef = useRef(null)\n  const textRef = useRef(null)\n  const position = useRef(0) // 중간에 Prop이 바뀌더라도, position 유지하기 위해 useEffect 밖에 선언\n\n  useEffect(() => {\n    const tapeElement = tapeRef.current\n    const textElement = textRef.current\n\n    // 텍스트가 흐르는 방향을 설정\n    let textDirection = 1\n    if (isRight) {\n      tapeElement.style.justifyContent = 'flex-end'\n    } else {\n      tapeElement.style.justifyContent = 'flex-start'\n      textDirection = -1\n    }\n\n    // 텍스트를 이동 시키는 함수\n    function moveText() {\n      position.current += 1\n      // 반만큼 이동 했을 때, 다시 원위치로 복귀하여 무한스크롤\n      if (position.current > textElement.scrollWidth / 2) {\n        textElement.style.transform = `translateX(0)`\n        position.current = 0\n      }\n      textElement.style.transform = `translateX(${\n        textDirection * position.current\n      }px)`\n    }\n\n    // 애니메이션 실행 함수\n    let animationId = null\n    function animate() {\n      moveText()\n      animationId = window.requestAnimationFrame(animate) // 희한하게 정의되기 전에 쓰네?\n    }\n\n    // 애니메이션 실행\n    animate()\n\n    // 스크롤 함수\n    function speedUp() {\n      position.current += 10\n    }\n    window.addEventListener('scroll', speedUp)\n\n    // 크린업\n    return () => {\n      window.cancelAnimationFrame(animationId)\n      window.removeEventListener('scroll', speedUp)\n    }\n  }, [isRight])\n\n  return (\n    &#x3C;div\n      ref={tapeRef}\n      className=\"scroll-infinite-tape__tape\"\n      style={{\n        backgroundColor: tapeColor,\n        transform: `rotate(${rotationDeg}deg) translateX(-10%)`,\n      }}\n    >\n      &#x3C;p\n        ref={textRef}\n        className=\"scroll-infinite-tape__text\"\n        style={{ color: fontColor }}\n      >\n        {(text + '\\u00a0\\u00a0\\u00a0\\u00a0').repeat(20)}\n      &#x3C;/p>\n    &#x3C;/div>\n  )\n}\n</code></pre>\n<h2 id=\"22-css-코드\" style=\"position:relative;\"><a href=\"#22-css-%EC%BD%94%EB%93%9C\" aria-label=\"22 css 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. CSS 코드</h2>\n<p>테이프가 회전했을 때, 여백이 보이지 않게 하기 위해 두 가지 처리를 했다.</p>\n<ul>\n<li><strong>width</strong><br>\n먼저 너비를 <code>120%</code>로 설정해, 화면 너비보다 여유를 두었고</li>\n<li><strong>translateX(-10%)</strong><br>\n위의 리액트 코드를 보면, 인라인 스타일로 <code>transform: translateX(-10%)</code> 를 두어, 확보된 여백을 포함하여 화면의 중앙에 오도록 했다.</li>\n</ul>\n<p>한 가지 유의해야할 점은, 이 컴포넌트를 쓰는 부모 컴포넌트가 <code>overflow-x:hidden</code> 설정을 가져야 한다.</p>\n<pre><code class=\"language-css\">.scroll-infinite-tape__tape {\n  display: flex;\n  width: 120%; // 회전했을 때, 약간의 여백 방지\n  padding: 1vw 0 1.3vw;\n}\n\n.scroll-infinite-tape__text {\n  min-width: fit-content; // grid 설정 때문에 p의 너비가 제한되었음\n  font-size: 3vw;\n  font-weight: 700;\n  white-space: nowrap;\n}\n</code></pre>\n<h2 id=\"3-사용-예시\" style=\"position:relative;\"><a href=\"#3-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"3 사용 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 사용 예시</h2>\n<p><a href=\"https://byongho96.github.io/TIL/demo/scroll-infinite-tape/\">애니매이션 라이브 페이지로 이동!</a></p>\n<p><img src=\"/TIL/532f7776d715c650705f9710ab912eef/infinite-text-tape.gif\" alt=\"infinite-text-tape.gif)\"></p>\n<pre><code class=\"language-js\">import * as React from 'react'\nimport './style.css'\nimport ScrollInfiniteTape from './ScrollInfiniteTape.tsx'\n\nconst App: React.FC = () => {\n  return (\n    &#x3C;div className=\"scroll-infinite-tape-page\">\n      &#x3C;ScrollInfiniteTape\n        text=\"Orange is the New Black\"\n        fontColor=\"black\"\n        tapeColor=\"orange\"\n        isRight={false}\n        rotationDeg={5}\n      />\n      &#x3C;ScrollInfiniteTape\n        text=\"Easy Peasy Lemon Squeezy\"\n        fontColor=\"ivory\"\n        tapeColor=\"gold\"\n        rotationDeg={10}\n      />\n      &#x3C;ScrollInfiniteTape\n        text=\"Have a good one\"\n        fontColor=\"white\"\n        tapeColor=\"skyblue\"\n        isRight={false}\n        rotationDeg={-12}\n      />\n      &#x3C;ScrollInfiniteTape\n        text=\"Super Green\"\n        fontColor=\"beige\"\n        tapeColor=\"green\"\n        rotationDeg={5}\n      />\n      &#x3C;ScrollInfiniteTape\n        text=\"Friday Night\"\n        fontColor=\"pink\"\n        tapeColor=\"black\"\n        isRight={false}\n        rotationDeg={-3}\n      />\n    &#x3C;/div>\n  )\n}\n\nexport default App\n</code></pre>\n<pre><code class=\"language-css\">.scroll-infinite-tape-page {\n  display: flex;\n  overflow: hidden;\n  flex-direction: column;\n  justify-content: center;\n  gap: 10vh;\n  height: 200vh;\n}\n</code></pre>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%EB%AA%A9%ED%91%9C\">1. 목표</a></p>\n</li>\n<li>\n<p><a href=\"#2-%EC%A0%84%EC%B2%B4-%EC%BD%94%EB%93%9C\">2. 전체 코드</a></p>\n<ul>\n<li><a href=\"#21-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EC%BD%94%EB%93%9C\">2.1. 리액트 코드</a></li>\n<li><a href=\"#22-css-%EC%BD%94%EB%93%9C\">2.2. CSS 코드</a></li>\n<li><a href=\"#3-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">3. 사용 예시</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"무한 텍스트 테이프 애니메이션 (React 컴포넌트)","createdAt":"2023-07-07","updatedAt":"2023-07-07","tags":["CSS","JavaScript","canvas","애니메이션","텍스트 테이프"],"description":"무한 텍스트 테이프 애니메이션을 리액트 컴포넌트로 만들어본다.","reference":"https://www.youtube.com/watch?v=z9hN9PXhe-A"}},"allMarkdownRemark":{"nodes":[{"id":"e342031d-15e0-5a29-b5e7-06d909d9d342","parent":{"id":"ef34e23c-385f-582d-8e54-f832e8635936","name":"Scroll_3D_Card","relativePath":"Animation/Scroll_3D_Card.md"},"frontmatter":{"title":"3D 카드 스크롤 애니메이션 (React 컴포넌트)","createdAt":"2023-07-05","updatedAt":"2023-07-05"},"excerpt":"1. 목표 \"YouTube: 자바스크립트로 11분만에 카드 스크롤 애니메이션 마스터하기, 맛있는 코딩\" 를 따라잡고, 이를 커스텀할 수 있는 리액트 컴포넌트로 만드는게 목표다. 참고로 절대 11분 만에 따라잡지 못했다. 영상을 보면 transform…"},{"id":"d1e1686e-9471-574a-ae2f-18e680057aca","parent":{"id":"5aaae26e-1553-5935-8ffb-cb59b5945904","name":"Height_Animation","relativePath":"Animation/Height_Animation.md"},"frontmatter":{"title":"CSS 높이(height) 0 to auto 애니메이션","createdAt":"2023-06-28","updatedAt":"2023-06-28"},"excerpt":"1. 사건의 발단 CSS를 하다보면 종종 개빡치는 일이 생기기 마련이다. 빡침의 이유도 가지 각색인데, 오늘 다루고자 하는 주제는 '이게 안된다고?'하는 느낌이다. 바로 CSS에서 height를 0에서 auto…"},{"id":"b0cbb5c6-bb89-5972-8720-50aadbc98a6f","parent":{"id":"81cc7ed8-e576-5259-b6b6-2fab4b244e3e","name":"Infinite_Text_Tape","relativePath":"Animation/Infinite_Text_Tape.md"},"frontmatter":{"title":"무한 텍스트 테이프 애니메이션 (React 컴포넌트)","createdAt":"2023-07-07","updatedAt":"2023-07-07"},"excerpt":"1. 목표 \"YouTube: 자바스크립트로 5분만에 텍스트 스크롤 애니메이션 효과(text marquee effect) 마스터하기, 맛있는 코딩\" 를 따라잡고, 이를 커스텀할 수 있는 리액트 컴포넌트로 만드는게 목표다. 다음과 같은 Prop…"},{"id":"d9a53b8e-d65a-5893-8f92-fa3574405c56","parent":{"id":"15a32b0f-ab8e-5cd8-bdc9-173af52b7323","name":"Raining_Canvas","relativePath":"Animation/Raining_Canvas.md"},"frontmatter":{"title":"비 내리는 캔버스 애니메이션 (React 컴포넌트)","createdAt":"2023-07-06","updatedAt":"2023-07-06"},"excerpt":"1. 목표 \"YouTube: 자바스크립트 Canvas로 비내리는 인터렉티브한 배경 만들기 튜토리얼, 맛있는 코딩\" 를 따라잡고, Prop을 받아 커스텀할 수 있는 리액트 컴포넌트로 만드는게 목표다. 다음과 같은 Prop…"},{"id":"e070d9f5-57b8-53c2-bb0e-25ef3e98fcb6","parent":{"id":"df0725c8-ac33-5639-b391-21726edd7c7b","name":"Typing_Animation","relativePath":"Animation/Typing_Animation.md"},"frontmatter":{"title":"타이핑 애니메이션 (React 컴포넌트)","createdAt":"2023-06-22","updatedAt":"2023-06-22"},"excerpt":"1. 목표 1.1. react-type-animation 구글링하면 react-type-animation…"}]}},"pageContext":{"pagePath":"posts/Animation/Infinite_Text_Tape.md","regex":"/^(?!.*README).*Animation.*$/","relativeDirectory":"Animation","id":"b0cbb5c6-bb89-5972-8720-50aadbc98a6f","parent":{"id":"81cc7ed8-e576-5259-b6b6-2fab4b244e3e","name":"Infinite_Text_Tape","relativePath":"Animation/Infinite_Text_Tape.md"}}},"staticQueryHashes":["2644037009","4059933791"],"slicesMap":{}}