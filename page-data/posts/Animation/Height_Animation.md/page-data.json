{"componentChunkName":"component---src-templates-post-index-tsx","path":"/posts/Animation/Height_Animation.md/","result":{"data":{"markdownRemark":{"id":"72bdeee6-7ff2-51cb-95a7-5ccbdebb4358","html":"<h1 id=\"1-사건의-발단\" style=\"position:relative;\"><a href=\"#1-%EC%82%AC%EA%B1%B4%EC%9D%98-%EB%B0%9C%EB%8B%A8\" aria-label=\"1 사건의 발단 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 사건의 발단</h1>\n<p>CSS를 하다보면 종종 개빡치는 일이 생기기 마련이다.<br>\n빡침의 이유도 가지 각색인데, 오늘 다루고자 하는 주제는 '이게 안된다고?'하는 느낌이다.</p>\n<p>바로 CSS에서 height를 <code>0</code>에서 <code>auto</code>로 바뀔 때 애니메이션이 먹지 않는 것이다.<br>\n다음과 같이 아주 간단한 예시코드를 작성해볼 수 있다. 사용자가 클릭하면 <code>.navbar__menu</code>태그에 <code>.open</code>클래스가 토글된다는 자바스크립트 코드는 착한 사람한테만 보인다.</p>\n<pre><code class=\"language-html\">&#x3C;!-- .open 클래스가 토글된다 -->\r\n&#x3C;ul className=\"navbar__menu\">\r\n  &#x3C;li>\r\n    &#x3C;a to=\"/\"> Home &#x3C;/a>\r\n  &#x3C;/li>\r\n  &#x3C;li>\r\n    &#x3C;a to=\"/about\"> About &#x3C;/a>\r\n  &#x3C;/li>\r\n  &#x3C;li>\r\n    &#x3C;a to=\"/posts\"> Posts &#x3C;/a>\r\n  &#x3C;/li>\r\n&#x3C;/ul>\n</code></pre>\n<pre><code class=\"language-scss\">.navbar__menu {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 0.2rem;\r\n}\r\n\r\n.navbar__menu li {\r\n  height: 0;\r\n  opacity: 0;\r\n  transition: height 0.2s ease-in-out, opacity 0.2s ease-in-out;\r\n}\r\n\r\n.navbar__menu.open li {\r\n  height: auto;\r\n  opacity: 1;\r\n}\n</code></pre>\n<p>설레는 마음으로 코드를 돌려보며 아래처럼 동작한다.</p>\n<p><img src=\"/TIL/b3a31bb2676714163014f85dc5c27d05/height-animation-error.gif\" alt=\"height-animation-error.gif\"></p>\n<h1 id=\"2-grid-template-rows\" style=\"position:relative;\"><a href=\"#2-grid-template-rows\" aria-label=\"2 grid template rows permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. grid-template-rows</h1>\n<p>그러던 중 <code>grid-template-rows</code>라는 구원투수를 알게 되었다.<br>\n<code>grid-template-rows</code>에 값을 <strong>적절하게</strong> 입력하면, 우리가 바라는 height 애니메이션을 구현할 수 있다.</p>\n<p><strong>적절하게</strong>라는 표현이 애매한걸 알지만 어쩔 수 없다. height 0 to auto가 예상한대로 동작하지 않았듯이, grid-template-rows의 값도 예상처럼 동작하지 않는다.</p>\n<h2 id=\"21-고정된-갯수의-리스트\" style=\"position:relative;\"><a href=\"#21-%EA%B3%A0%EC%A0%95%EB%90%9C-%EA%B0%AF%EC%88%98%EC%9D%98-%EB%A6%AC%EC%8A%A4%ED%8A%B8\" aria-label=\"21 고정된 갯수의 리스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1. 고정된 갯수의 리스트</h2>\n<p>현재 네비게이션 바의 리스트 갯수가 3개이므로 <code>grid-template-rows: repeat(3, 0fr);</code>로 설정한다. 즉, 3개의 <code>li</code>요소는 높이(rows)가 0이 된다.</p>\n<p>단 <code>li</code>의 높이가 0이라도, <code>li</code>안에 있는 콘텐츠(<code>a</code>)가 overflow된 채로 보여진다. 따라서 아예 렌더링되지 않도록 <code>overflow: hidden;</code>을 설정해준다.</p>\n<p>그리고 네비게이션바가 토글되었을 때, <code>grid-template-rows: repeat(3, 1fr);</code>로 설정한다. 이는 3개의 요소를 모두 **동일한 높이(1:1:1)**로 만들겠다는 의미이다. 그 높이는 <strong>요소 중 가장 큰 높이</strong>로 결정된다. <mark>따라서 지금 말하는 방식은 모든 요소가 동일한 높이를 가져야한다.</mark></p>\n<pre><code class=\"language-html\">&#x3C;!-- .open 클래스가 토글된다 -->\r\n&#x3C;ul className=\"navbar__menu\">\r\n  &#x3C;li>\r\n    &#x3C;a to=\"/\"> Home &#x3C;/a>\r\n  &#x3C;/li>\r\n  &#x3C;li>\r\n    &#x3C;a to=\"/about\"> About &#x3C;/a>\r\n  &#x3C;/li>\r\n  &#x3C;li>\r\n    &#x3C;a to=\"/posts\"> Posts &#x3C;/a>\r\n  &#x3C;/li>\r\n&#x3C;/ul>\n</code></pre>\n<pre><code class=\"language-css\">.navbar__menu {\r\n  display: grid;\r\n  grid-template-rows: repeat(3, 0fr);\r\n  transition: grid-template-rows 0.2s ease-in-out;\r\n}\r\n\r\n.navbar__menu.open {\r\n  grid-template-rows: repeat(3, 1fr);\r\n}\r\n\r\n.navbar__menu li {\r\n  overflow: hidden;\r\n}\n</code></pre>\n<p>결과는 아래와 같이 잘 동작한다.</p>\n<p><img src=\"/TIL/041fbd94444eb2ecea2888d5878ca161/height-animation-static.gif\" alt=\"height-animation-static.gif\"></p>\n<h2 id=\"22-임의-갯수의-리스트\" style=\"position:relative;\"><a href=\"#22-%EC%9E%84%EC%9D%98-%EA%B0%AF%EC%88%98%EC%9D%98-%EB%A6%AC%EC%8A%A4%ED%8A%B8\" aria-label=\"22 임의 갯수의 리스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2. 임의 갯수의 리스트</h2>\n<p>위의 방식에 따르면, <code>repeat(요소의 갯수, fr)</code>형식으로 입력해야 한다. 그런데 리스트의 갯수를 고정할 수 없다면 어떻게 해야할까?</p>\n<p>참고로 요소의 갯수에 <code>auto-fit</code>, <code>auto-fill</code> 등을 넣어도 모두 소용없다...</p>\n<p>가장 쉬운 방법은 그냥 자바스크립트로 요소의 갯수를 전달해주면 된다.</p>\n<pre><code class=\"language-js\">const menuArr = []\r\nconst navbarMenu = document.querySelector('.navbar__menu')\r\nnavbarMenu.style.setProperty('--menu-count', menuArr.length.toString())\n</code></pre>\n<pre><code class=\"language-css\">.navbar__menu {\r\n  display: grid;\r\n  grid-template-rows: repeat(var(--menu-count), 0fr);\r\n  transition: grid-template-rows 0.2s ease-in-out;\r\n}\r\n\r\n.navbar__menu.open {\r\n  grid-template-rows: repeat(var(--menu-count), 1fr);\r\n}\r\n\r\n.navbar__menu li {\r\n  overflow: hidden;\r\n}\n</code></pre>\n<p>네비게이션바는 아니지만, 위와 같이 자바스크립트에서 CSS 속성을 추가해주는 방식으로, 카테고리 바의 height 애니메이션을 구현했다.</p>\n<p><img src=\"/TIL/977d24ed3548730b733a2aa5e9d307ef/height-animation-dynamic.gif\" alt=\"height-animation-dynamic.gif\"></p>\n<h2 id=\"23-서로-다른-높이의-리스트\" style=\"position:relative;\"><a href=\"#23-%EC%84%9C%EB%A1%9C-%EB%8B%A4%EB%A5%B8-%EB%86%92%EC%9D%B4%EC%9D%98-%EB%A6%AC%EC%8A%A4%ED%8A%B8\" aria-label=\"23 서로 다른 높이의 리스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.3. 서로 다른 높이의 리스트</h2>\n<p>이 부분은 대략적으로만 설명하고 넘어가려고 한다.</p>\n<p>내가 생각해낸 방법은, 결국 각 리스트마다 별개의 grid 레이아웃을 설정하는 것이다. 다음과 같이 각 리스트마다 <code>.wrapper</code>클래스를 가진 요소로 감싸고, 해당 요소마다 <code>grid</code>를 적용하는 것이다.</p>\n<pre><code class=\"language-html\">&#x3C;!-- .open 클래스가 토글된다 -->\r\n&#x3C;ul className=\"navbar__menu\">\r\n  &#x3C;li className=\"wrapper\">\r\n    &#x3C;div>\r\n      &#x3C;a to=\"/\">\r\n        Home Home Home Home Home Home Home Home Home Home Home Home ...\r\n      &#x3C;/a>\r\n    &#x3C;/div>\r\n  &#x3C;/li>\r\n  &#x3C;li className=\"wrapper\">\r\n    &#x3C;div>\r\n      &#x3C;a to=\"/about\"> About &#x3C;/a>\r\n    &#x3C;/div>\r\n  &#x3C;/li>\r\n  &#x3C;li className=\"wrapper\">\r\n    &#x3C;div>\r\n      &#x3C;a to=\"/posts\"> Posts Posts Posts ... &#x3C;/a>\r\n    &#x3C;/div>\r\n  &#x3C;/li>\r\n&#x3C;/ul>\n</code></pre>\n<pre><code class=\"language-css\">.navbar__menu .wrapper {\r\n  display: grid;\r\n  grid-template-rows: 0fr;\r\n  transition: grid-template-rows 0.2s ease-in-out;\r\n}\r\n.navbar__menu.open .wrapper {\r\n  grid-template-rows: 1fr;\r\n}\r\n.navbar__menu li {\r\n  overflow: hidden;\r\n}\n</code></pre>\n<h1 id=\"3-참고\" style=\"position:relative;\"><a href=\"#3-%EC%B0%B8%EA%B3%A0\" aria-label=\"3 참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 참고</h1>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=B_n4YONte5A&#x26;t=75s\">YouTube: The simple trick to transition from height 0 to auto with CSS</a></li>\n<li><a href=\"https://www.youtube.com/shorts/3gNOoYzarNo\">YouTube: This CSS Trick Makes Impossible Animations Possible</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%EC%82%AC%EA%B1%B4%EC%9D%98-%EB%B0%9C%EB%8B%A8\">1. 사건의 발단</a></p>\n</li>\n<li>\n<p><a href=\"#2-grid-template-rows\">2. grid-template-rows</a></p>\n<ul>\n<li><a href=\"#21-%EA%B3%A0%EC%A0%95%EB%90%9C-%EA%B0%AF%EC%88%98%EC%9D%98-%EB%A6%AC%EC%8A%A4%ED%8A%B8\">2.1. 고정된 갯수의 리스트</a></li>\n<li><a href=\"#22-%EC%9E%84%EC%9D%98-%EA%B0%AF%EC%88%98%EC%9D%98-%EB%A6%AC%EC%8A%A4%ED%8A%B8\">2.2. 임의 갯수의 리스트</a></li>\n<li><a href=\"#23-%EC%84%9C%EB%A1%9C-%EB%8B%A4%EB%A5%B8-%EB%86%92%EC%9D%B4%EC%9D%98-%EB%A6%AC%EC%8A%A4%ED%8A%B8\">2.3. 서로 다른 높이의 리스트</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%EC%B0%B8%EA%B3%A0\">3. 참고</a></p>\n</li>\n</ul>","frontmatter":{"title":"CSS 높이(height) 0 to auto 애니메이션","createdAt":"2023-06-28","updatedAt":"2023-06-28","tags":["CSS","애니메이션","height","auto"],"description":"CSS height가 0에서 auto로 변하는 애니메이션을 구현해본다.","reference":"https://www.youtube.com/watch?v=B_n4YONte5A&t=75s"}},"allMarkdownRemark":{"nodes":[{"id":"9a21ada5-e2a3-551f-9b0c-4cd666b4d697","parent":{"id":"732953d5-6571-5cf7-84f4-9ec9babbe63c","name":"Scroll_3D_Card","relativePath":"Animation/Scroll_3D_Card.md"},"frontmatter":{"title":"3D 카드 스크롤 애니메이션 (React 컴포넌트)","createdAt":"2023-07-05","updatedAt":"2023-07-05"},"excerpt":"1. 목표 \"YouTube: 자바스크립트로 11분만에 카드 스크롤 애니메이션 마스터하기, 맛있는 코딩\" 를 따라잡고, 이를 커스텀할 수 있는 리액트 컴포넌트로 만드는게 목표다. 참고로 절대 11분 만에 따라잡지 못했다. 영상을 보면 transform…"},{"id":"72bdeee6-7ff2-51cb-95a7-5ccbdebb4358","parent":{"id":"ea381281-9a8f-57e4-8e60-4ec3a571064c","name":"Height_Animation","relativePath":"Animation/Height_Animation.md"},"frontmatter":{"title":"CSS 높이(height) 0 to auto 애니메이션","createdAt":"2023-06-28","updatedAt":"2023-06-28"},"excerpt":"1. 사건의 발단 CSS를 하다보면 종종 개빡치는 일이 생기기 마련이다. 빡침의 이유도 가지 각색인데, 오늘 다루고자 하는 주제는 '이게 안된다고?'하는 느낌이다. 바로 CSS에서 height를 0에서 auto…"},{"id":"46d64597-75eb-51b6-b87b-3ff2fa24e930","parent":{"id":"750e6ca4-e35a-5713-aa78-5b0585291ba2","name":"Typing_Animation","relativePath":"Animation/Typing_Animation.md"},"frontmatter":{"title":"타이핑 애니메이션 (React 컴포넌트)","createdAt":"2023-06-22","updatedAt":"2023-06-22"},"excerpt":"1. 목표 1.1. react-type-animation 구글링하면 react-type-animation…"}]}},"pageContext":{"pagePath":"posts/Animation/Height_Animation.md","regex":"/^(?!.*README).*Animation.*$/","relativeDirectory":"Animation","id":"72bdeee6-7ff2-51cb-95a7-5ccbdebb4358","parent":{"id":"ea381281-9a8f-57e4-8e60-4ec3a571064c","name":"Height_Animation","relativePath":"Animation/Height_Animation.md"}}},"staticQueryHashes":["3300660363","522921546","82772122"],"slicesMap":{}}