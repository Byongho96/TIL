{"version":3,"file":"component---src-templates-post-tsx-dc7f8495a57aced00653.js","mappings":"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","sources":["webpack://byongho-s-til/./src/components/category/style.module.scss","webpack://byongho-s-til/./src/hooks/use-categorized-posts.tsx","webpack://byongho-s-til/./src/components/category/index.tsx","webpack://byongho-s-til/./src/layouts/category-layout/index.tsx","webpack://byongho-s-til/./src/layouts/category-layout/style.module.scss","webpack://byongho-s-til/./src/components/navigation/style.module.scss","webpack://byongho-s-til/./src/components/navigation/index.tsx","webpack://byongho-s-til/./src/hooks/use-site-metadata.tsx","webpack://byongho-s-til/./src/layouts/navigation-layout/index.tsx","webpack://byongho-s-til/./src/layouts/navigation-layout/style.module.scss","webpack://byongho-s-til/./src/templates/post.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var categories = \"style-module--categories--86b38\";\nexport var category = \"style-module--category--d0bec\";\nexport var container = \"style-module--container--36f8e\";\nexport var post = \"style-module--post--8179a\";\nexport var posts = \"style-module--posts--bdaf4\";","import { graphql, useStaticQuery } from 'gatsby'\r\n\r\n// 'posts' 폴더의 하위 md파일이 곧 포스트임을 가정\r\n// 'posts' 폴더의 하위 디렉토리가 곧 카테고리임을 가정\r\n// 'posts' 폴더의 하위 md파일들을 디렉토리 구조(카테고리)에 따라 가공하여 반환하는 훅\r\n\r\n// 'posts' 하위 md 파일 만을 탐색\r\n// 'README' md 파일 제거\r\n\r\nexport const useCategorizedPosts = () => {\r\n  const data = useStaticQuery(graphql`\r\n    query {\r\n      allMarkdownRemark(\r\n        filter: { fileAbsolutePath: { regex: \"/^(?!.*README).*posts.*$/\" } }\r\n      ) {\r\n        nodes {\r\n          id\r\n          parent {\r\n            ... on File {\r\n              id\r\n              name\r\n              relativePath\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `)\r\n\r\n  // 마크다운 파일을 디렉토리 구조에 따라 카테고리 분류\r\n  /* Exmample\r\n  {\r\n    \"rootCategory1\" : {\r\n      num: 6,\r\n      posts: [{id: \"id1\", name: \"name1\"}]\r\n      subCategories: {\r\n        \"subCategory1\": {\r\n          num: 3,\r\n          posts: [{id: \"id2\", name: \"name2\"}, {id: \"id3\", name: \"name3\"}, {id: \"id4\", name: \"name4\"}],\r\n          subCategories: {},\r\n        },\r\n        \"subCategory2\": {\r\n          num: 2,\r\n          posts: [{id: \"id5\", name: \"name5\"}, {id: \"id6\", name: \"name6\"}],\r\n          subCategories: {},\r\n        },\r\n      }\r\n    },\r\n    ...\r\n  }\r\n  */\r\n  const categories = []\r\n  data.allMarkdownRemark.nodes.forEach((node) => {\r\n    const { id, parent } = node\r\n    const { name, relativePath } = parent\r\n    const pathArray = relativePath.split('/')\r\n\r\n    // 최상단 카테고리 분류\r\n    const rootCategory = pathArray[0]\r\n    let foundCategory = categories.find(\r\n      (category) => category.name === rootCategory\r\n    )\r\n    if (!foundCategory) {\r\n      const newCategory = {\r\n        name: rootCategory,\r\n        num: 1,\r\n        posts: [],\r\n        subCategories: [],\r\n      }\r\n      categories.push(newCategory)\r\n      foundCategory = newCategory\r\n    } else {\r\n      foundCategory.num += 1\r\n    }\r\n\r\n    // 서브 카테고리 분류\r\n    let parentCategory = foundCategory\r\n    pathArray.slice(1, -1).forEach((subCategory) => {\r\n      let foundCategory = parentCategory.subCategories.find(\r\n        (category) => category.name === subCategory\r\n      )\r\n      if (!foundCategory) {\r\n        const newCategory = {\r\n          name: subCategory,\r\n          num: 1,\r\n          posts: [],\r\n          subCategories: [],\r\n        }\r\n        parentCategory.subCategories.push(newCategory)\r\n        foundCategory = newCategory\r\n      } else {\r\n        foundCategory.num += 1\r\n      }\r\n      parentCategory = foundCategory\r\n    })\r\n\r\n    // 포스트 분류\r\n    parentCategory.posts.push({ id, name, relativePath })\r\n    parentCategory.posts.sort((a, b) => {\r\n      const nameA = a.name.toUpperCase() // ignore upper and lowercase\r\n      const nameB = b.name.toUpperCase() // ignore upper and lowercase\r\n      if (nameA < nameB) {\r\n        return -1\r\n      }\r\n      if (nameA > nameB) {\r\n        return 1\r\n      }\r\n\r\n      // names must be equal\r\n      return 0\r\n    })\r\n  })\r\n\r\n  // sort by name\r\n  categories.sort((a, b) => {\r\n    const nameA = a.name.toUpperCase() // ignore upper and lowercase\r\n    const nameB = b.name.toUpperCase() // ignore upper and lowercase\r\n    if (nameA < nameB) {\r\n      return -1\r\n    }\r\n    if (nameA > nameB) {\r\n      return 1\r\n    }\r\n\r\n    // names must be equal\r\n    return 0\r\n  })\r\n\r\n  return categories\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Link } from 'gatsby'\r\nimport * as styles from './style.module.scss'\r\nimport { useCategorizedPosts } from '@hooks/use-categorized-posts'\r\n\r\n// 최대 3단계 카테고리까지만(루트 카테고리 포함) 지원\r\n\r\nconst Category: React.FC = ({ selectedCategory = '' }) => {\r\n  const data = useCategorizedPosts()\r\n  const [clickedCategory, setClickedCategory] = useState(selectedCategory)\r\n\r\n  console.log(data)\r\n\r\n  const handleClickCategory = (name) => {\r\n    setClickedCategory(name)\r\n  }\r\n\r\n  return (\r\n    <ul className={`${styles.container} ${styles.categories}`}>\r\n      {/* 루트 카테고리 */}\r\n      {data.map((category) => (\r\n        <li key={category.name} className={styles.categories}>\r\n          <CategoryName\r\n            name={category.name}\r\n            handleClickCategory={handleClickCategory}\r\n          />\r\n          <ul>\r\n            {/* 서브 카테고리 1 */}\r\n            {category.subCategories.map((subCategory) => (\r\n              <li key={subCategory.name} className={styles.categories}>\r\n                <CategoryName\r\n                  name={subCategory.name}\r\n                  handleClickCategory={handleClickCategory}\r\n                />\r\n                <ul className={styles.categories}>\r\n                  {/* 서브 카테고리 2 */}\r\n                  {subCategory.subCategories.map((subCategory) => (\r\n                    <li key={subCategory.name} className={styles.categories}>\r\n                      <CategoryName\r\n                        name={subCategory.name}\r\n                        handleClickCategory={handleClickCategory}\r\n                      />\r\n                      {/* 서브 카테고리 2 포스트 */}\r\n                      {clickedCategory === subCategory.name && (\r\n                        <Posts posts={subCategory.posts} />\r\n                      )}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n                {/* 서브 카테고리 1 포스트 */}\r\n                {clickedCategory === subCategory.name && (\r\n                  <Posts posts={subCategory.posts} />\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          {/* 루트 카테고리 포스트 */}\r\n          {clickedCategory === category.name && (\r\n            <Posts posts={category.posts} />\r\n          )}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nconst CategoryName: React.FC = ({ name, handleClickCategory }) => {\r\n  return (\r\n    <Link\r\n      to={`/posts/${name}`}\r\n      activeClassName=\"active\"\r\n      className={styles.category}\r\n      onClick={() => {\r\n        handleClickCategory(name)\r\n      }}>\r\n      {name}\r\n    </Link>\r\n  )\r\n}\r\n\r\nconst Posts: React.FC = ({ posts }) => {\r\n  return (\r\n    <ul className={styles.posts}>\r\n      {posts.map((post) => (\r\n        <li key={post.id}>\r\n          <Link\r\n            to={`/posts/${post.relativePath}`}\r\n            activeClassName=\"active\"\r\n            className={styles.post}>\r\n            {post.name}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Category\r\n","import * as React from 'react'\r\nimport * as styles from './style.module.scss'\r\nimport Category from '@components/category'\r\n\r\nconst CategoryLayout = ({ selectedCategory, children }) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <Category selectedCategory={selectedCategory} />\r\n      <div>{children}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CategoryLayout\r\n","// extracted by mini-css-extract-plugin\nexport var container = \"style-module--container--16db0\";","// extracted by mini-css-extract-plugin\nexport var container = \"style-module--container--bc714\";\nexport var navLinkText = \"style-module--nav-link-text--1f74e\";\nexport var navLinks = \"style-module--nav-links--64532\";","import * as React from 'react'\r\nimport { Link } from 'gatsby'\r\nimport * as styles from './style.module.scss'\r\nimport { useSiteMetadata } from '@hooks/use-site-metadata'\r\n\r\nconst Navigation: React.FC = () => {\r\n  const { owner } = useSiteMetadata()\r\n  return (\r\n    <div className={styles.container}>\r\n      <Link to=\"/\" className={styles.navLinkText}>\r\n        {owner}\r\n      </Link>\r\n      <nav>\r\n        <ul className={styles.navLinks}>\r\n          <li>\r\n            <Link to=\"/\" className={styles.navLinkText}>\r\n              Home\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/about\" className={styles.navLinkText}>\r\n              About\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/posts\" className={styles.navLinkText}>\r\n              Posts\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navigation\r\n","import { graphql, useStaticQuery } from 'gatsby'\r\n\r\nexport const useSiteMetadata = () => {\r\n  const data = useStaticQuery(graphql`\r\n    query {\r\n      site {\r\n        siteMetadata {\r\n          title\r\n          owner\r\n          description\r\n          siteUrl\r\n        }\r\n      }\r\n    }\r\n  `)\r\n\r\n  return data.site.siteMetadata\r\n}\r\n","import * as React from 'react'\r\nimport * as styles from './style.module.scss'\r\nimport Navigation from '@components/navigation'\r\n\r\nconst NavigationLayout = ({ children }) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <Navigation />\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NavigationLayout\r\n","// extracted by mini-css-extract-plugin\nexport var container = \"style-module--container--24ac7\";","import * as React from 'react'\r\nimport type { HeadFC, PageProps } from 'gatsby'\r\nimport NavigationLayout from '@layouts/navigation-layout'\r\nimport CategoryLayout from '@layouts/category-layout'\r\nimport { allMarkdownsQuery } from '@queries/index'\r\nimport { graphql } from 'gatsby'\r\n\r\nconst PostPage: React.FC<PageProps> = ({ pageContext, data }) => {\r\n  console.log(pageContext)\r\n  console.log(data)\r\n  return (\r\n    <NavigationLayout>\r\n      <CategoryLayout selectedCategory={pageContext.name}>\r\n        <div\r\n          className=\"markdown-body\"\r\n          dangerouslySetInnerHTML={{ __html: data.markdownRemark.html }}\r\n        />\r\n      </CategoryLayout>\r\n    </NavigationLayout>\r\n  )\r\n}\r\n\r\nexport const query = graphql`\r\n  query ($id: String!) {\r\n    markdownRemark(id: { eq: $id }) {\r\n      id\r\n      html\r\n    }\r\n  }\r\n`\r\n\r\nexport default PostPage\r\n"],"names":["categories","CategoryName","_ref2","name","handleClickCategory","React","Link","to","activeClassName","className","onClick","Posts","_ref3","posts","map","post","key","id","relativePath","_ref","selectedCategory","data","useStaticQuery","allMarkdownRemark","nodes","forEach","node","parent","pathArray","split","rootCategory","foundCategory","find","category","num","newCategory","subCategories","push","parentCategory","slice","subCategory","sort","a","b","nameA","toUpperCase","nameB","useCategorizedPosts","clickedCategory","setClickedCategory","useState","console","log","styles","children","Category","navLinkText","owner","site","siteMetadata","Navigation","pageContext","NavigationLayout","CategoryLayout","dangerouslySetInnerHTML","__html","markdownRemark","html"],"sourceRoot":""}