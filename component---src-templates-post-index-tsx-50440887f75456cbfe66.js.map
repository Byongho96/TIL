{"version":3,"file":"component---src-templates-post-index-tsx-50440887f75456cbfe66.js","mappings":"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","sources":["webpack://byongho-s-til/./src/components/table-content/style.module.scss","webpack://byongho-s-til/./src/components/table-content/index.tsx","webpack://byongho-s-til/./src/components/post-header/index.tsx","webpack://byongho-s-til/./src/components/post-header/style.module.scss","webpack://byongho-s-til/./src/components/utterances/index.tsx","webpack://byongho-s-til/./src/components/next-posts/index.tsx","webpack://byongho-s-til/./src/components/next-posts/style.module.scss","webpack://byongho-s-til/./src/templates/post/index.tsx","webpack://byongho-s-til/./src/templates/post/style.module.scss","webpack://byongho-s-til/./src/assets/svgs/left.svg","webpack://byongho-s-til/./src/assets/svgs/right.svg"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var active = \"style-module--active--d7665\";\nexport var toc = \"style-module--toc--d478a\";","import React, { useEffect } from 'react'\nimport * as styles from './style.module.scss'\n\nconst TableContent: React.FC = ({ toc }) => {\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          const id = encodeURI(entry.target.getAttribute('id')) // 한글 url 인코딩\n          const targetContent = document.querySelector(`.toc a[href=\"#${id}\"]`) // toc에서 해당 id를 가진 태그 선택\n          if (targetContent) {\n            if (entry.intersectionRatio > 0) {\n              targetContent.classList.add(styles.active)\n            } else {\n              targetContent.classList.remove(styles.active)\n            }\n          }\n        })\n      },\n      { rootMargin: `0% 0% -85% 0%` } // 관측 영역: TOP, RIGHT, BOTTOM, LEFT\n    )\n    // 트래킹하고 싶은 태그들 선택\n    document\n      .querySelectorAll(\n        '.markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4'\n      )\n      .forEach((section) => {\n        observer.observe(section)\n      })\n\n    return () => {\n      observer.disconnect()\n    }\n  }, [])\n\n  return (\n    <div\n      className={`toc ${styles.toc}`}\n      dangerouslySetInnerHTML={{ __html: toc }}\n    />\n  )\n}\n\nexport default TableContent\n","import * as React from 'react'\nimport { Link } from 'gatsby'\nimport * as styles from './style.module.scss'\nimport { useSiteMetadata } from '@hooks/use-site-metadata'\n\nconst PostHeader: React.FC = ({ frontmatter }) => {\n  const { author } = useSiteMetadata()\n  return (\n    <div className={styles.container}>\n      <h2 className={styles.title}>{frontmatter.title}</h2>\n      <div className={styles.info}>\n        <p className={styles.date}>{frontmatter.createdAt}</p>\n        <p className={styles.author}>{author}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default PostHeader\n","// extracted by mini-css-extract-plugin\nexport var author = \"style-module--author--4220d\";\nexport var container = \"style-module--container--3de1a\";\nexport var date = \"style-module--date--fa48c\";\nexport var info = \"style-module--info--0c9e4\";\nexport var title = \"style-module--title--9700c\";","import React, { createRef, useEffect } from 'react'\nimport './style.scss'\n\nconst src = 'https://utteranc.es/client.js'\n\nexport interface IUtterancesProps {\n  theme?:\n    | 'github-light'\n    | 'github-dark'\n    | 'preferred-color-scheme'\n    | 'github-dark-orange'\n    | 'icy-dark'\n    | 'dark-blue'\n    | 'photon-dark'\n    | 'boxy-light'\n    | 'gruvbox-dark'\n}\n\nconst Utterances: React.FC<IUtterancesProps> = React.memo(\n  ({ theme = 'github-light' }) => {\n    const utterRef = createRef<HTMLDivElement>(null)\n\n    // utternace를 적용하기 위한 script를 html에 성생\n    useEffect(() => {\n      const utterElement = utterRef.current // return문에서 접근하기 위해 미리 const로 할당\n      const utterances = document.createElement('script')\n\n      const attributes = {\n        src: 'https://utteranc.es/client.js',\n        repo: 'byongho96/TIL',\n        'issue-term': 'pathname',\n        theme,\n        label: '✨💬 comments ✨',\n        crossOrigin: 'anonymous',\n        async: 'false',\n      }\n\n      Object.entries(attributes).forEach(([key, value]) => {\n        utterances.setAttribute(key, value)\n      })\n\n      utterElement.appendChild(utterances)\n\n      // theme이 변경되면 utterRㄷf의 child를 삭제하고 다시 생성\n      return () => {\n        utterElement.removeChild(utterElement.firstChild)\n      }\n    }, [theme])\n\n    // 반환할 element\n    return <div id=\"utterances\" ref={utterRef} />\n  }\n)\n\nexport default Utterances\n","import * as React from 'react'\nimport { Link, navigate } from 'gatsby'\nimport * as styles from './style.module.scss'\nimport LeftIcon from '@assets/svgs/left.svg'\nimport RightIcon from '@assets/svgs/right.svg'\n\ntype Post = {\n  id: string\n  title: string\n  createdAt: string\n  updatedAt: string\n  excerpt: string\n  relativePath: string\n}\n\ntype Props = {\n  nextPost: Post\n  prevPost: Post\n}\n\nconst NextPosts: React.FC<Props> = ({ nextPost, prevPost }) => {\n  return (\n    <div className={styles.posts}>\n      {prevPost ? <Post post={prevPost} isNext={false} /> : <div />}\n      {nextPost ? <Post post={nextPost} isNext={true} /> : <div />}\n    </div>\n  )\n}\n\nexport default NextPosts\n\nconst Post: React.FC = ({ post, isNext }) => {\n  const icon = isNext ? <RightIcon /> : <LeftIcon />\n  const direction = isNext ? styles.next : styles.prev\n\n  const handleClick = () => {\n    navigate(`/posts/${post.relativePath}`)\n  }\n\n  return (\n    <div className={styles.post} onClick={handleClick}>\n      <div className={`${styles.flexbox} ${direction}`}>\n        <div className={styles.title}>{post.title}</div>\n        <div className={styles.icon}>{icon}</div>\n      </div>\n      <div className={styles.excerpt}>{post.excerpt}</div>\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var excerpt = \"style-module--excerpt--55f55\";\nexport var flexbox = \"style-module--flexbox--8037a\";\nexport var icon = \"style-module--icon--d5007\";\nexport var next = \"style-module--next--18928\";\nexport var post = \"style-module--post--07e6c\";\nexport var posts = \"style-module--posts--74272\";\nexport var prev = \"style-module--prev--2ffff\";\nexport var title = \"style-module--title--faa50\";","import React, { useContext } from 'react'\nimport type { HeadFC, PageProps } from 'gatsby'\nimport NavigationLayout from '@layouts/navigation-layout'\nimport CategoryLayout from '@layouts/category-layout'\nimport { allMarkdownsQuery } from '@queries/index'\nimport { graphql } from 'gatsby'\nimport TableContent from '@components/table-content'\nimport PostHeader from '@components/post-header'\nimport * as styles from './style.module.scss'\nimport ToTheTop from '@components/to-the-top'\nimport Utterances from '@components/utterances'\nimport { ThemeContext } from '@contexts/theme-context'\nimport NextPosts from '@components/next-posts'\n\nconst PostPage: React.FC<PageProps> = ({ pageContext, data }) => {\n  const { theme } = useContext(ThemeContext)\n\n  // make post array\n  const postArray = data.allMarkdownRemark.nodes.map((node) => {\n    return {\n      id: node.id,\n      title: node.frontmatter.title,\n      createdAt: node.frontmatter.createdAt,\n      updatedAt: node.frontmatter.updatedAt,\n      excerpt: node.excerpt,\n      relativePath: node.parent.relativePath,\n    }\n  })\n\n  console.log(pageContext)\n\n  // find index of id is the same to the data.id\n  const index = postArray.findIndex(\n    (post) => post.id === data.markdownRemark.id\n  )\n\n  // prevpost is the post before the current post\n  const prevPost = index === 0 ? null : postArray[index - 1]\n\n  // nextpost is the post after the current post\n  const nextPost = index === postArray.length - 1 ? null : postArray[index + 1]\n\n  return (\n    <CategoryLayout selectedCategory={pageContext.parent.relativeDirectory}>\n      <div className={styles.container}>\n        <PostHeader frontmatter={data.markdownRemark.frontmatter} />\n        <div className={styles.post}>\n          <div className={styles.markdownUtter}>\n            <div\n              className={`markdown-body ${theme} ${styles.markdown}`}\n              dangerouslySetInnerHTML={{ __html: data.markdownRemark.html }}\n            />\n            <div>\n              <NextPosts prevPost={prevPost} nextPost={nextPost} />\n            </div>\n            <Utterances\n              theme={theme === 'dark' ? 'github-dark' : 'github-light'}\n            />\n          </div>\n          <div className={styles.toc}>\n            <TableContent toc={data.markdownRemark.tableOfContents} />\n          </div>\n        </div>\n      </div>\n      <ToTheTop />\n    </CategoryLayout>\n  )\n}\n\nexport const query = graphql`\n  query ($id: String!, $regex: String!) {\n    markdownRemark(id: { eq: $id }) {\n      id\n      html\n      tableOfContents\n      frontmatter {\n        createdAt\n        isCompleted\n        reference\n        title\n        updatedAt\n      }\n    }\n    allMarkdownRemark(\n      filter: {\n        frontmatter: { isCompleted: { eq: true } }\n        fileAbsolutePath: { regex: $regex }\n      }\n      sort: { frontmatter: { title: ASC } }\n    ) {\n      nodes {\n        id\n        parent {\n          ... on File {\n            id\n            name\n            relativePath\n          }\n        }\n        frontmatter {\n          title\n          createdAt\n          updatedAt\n        }\n        excerpt\n      }\n    }\n  }\n`\n\nexport default PostPage\n","// extracted by mini-css-extract-plugin\nexport var container = \"style-module--container--ed3ad\";\nexport var markdown = \"style-module--markdown--35262\";\nexport var markdownUtter = \"style-module--markdown-utter--1fb15\";\nexport var post = \"style-module--post--e128e\";\nexport var toc = \"style-module--toc--734f6\";","var React = require('react');\n\nfunction Left (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"g\",{\"clipPath\":\"url(#clip0_19_75)\",\"key\":0},React.createElement(\"path\",{\"fillRule\":\"evenodd\",\"clipRule\":\"evenodd\",\"d\":\"M7.94002 13.06C7.65912 12.7788 7.50134 12.3975 7.50134 12C7.50134 11.6025 7.65912 11.2213 7.94002 10.94L13.596 5.28202C13.8774 5.00076 14.259 4.8428 14.6569 4.8429C14.8539 4.84294 15.0489 4.88179 15.2309 4.95722C15.4129 5.03265 15.5783 5.14319 15.7175 5.28252C15.8568 5.42185 15.9672 5.58725 16.0426 5.76928C16.1179 5.9513 16.1567 6.14638 16.1567 6.34338C16.1566 6.54038 16.1178 6.73544 16.0423 6.91742C15.9669 7.09941 15.8564 7.26476 15.717 7.40402L11.121 12L15.717 16.596C15.8604 16.7343 15.9747 16.8998 16.0534 17.0828C16.1321 17.2657 16.1736 17.4625 16.1754 17.6617C16.1772 17.8609 16.1394 18.0584 16.064 18.2428C15.9887 18.4272 15.8774 18.5947 15.7366 18.7356C15.5958 18.8765 15.4284 18.988 15.2441 19.0635C15.0598 19.139 14.8623 19.177 14.6631 19.1754C14.464 19.1738 14.2671 19.1325 14.0841 19.0539C13.901 18.9754 13.7355 18.8612 13.597 18.718L7.93802 13.06H7.94002Z\",\"fill\":\"black\"})),React.createElement(\"defs\",{\"key\":1},React.createElement(\"clipPath\",{\"id\":\"clip0_19_75\"},React.createElement(\"rect\",{\"width\":\"24\",\"height\":\"24\",\"fill\":\"white\"})))]);\n}\n\nLeft.defaultProps = {\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\"};\n\nmodule.exports = Left;\n\nLeft.default = Left;\n","var React = require('react');\n\nfunction Right (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"g\",{\"clipPath\":\"url(#clip0_19_79)\",\"key\":0},React.createElement(\"path\",{\"fillRule\":\"evenodd\",\"clipRule\":\"evenodd\",\"d\":\"M16.06 10.94C16.3409 11.2212 16.4987 11.6025 16.4987 12C16.4987 12.3975 16.3409 12.7787 16.06 13.06L10.404 18.718C10.1226 18.9992 9.74102 19.1572 9.34316 19.1571C8.9453 19.157 8.56377 18.9989 8.28251 18.7175C8.00125 18.4361 7.84329 18.0545 7.84338 17.6566C7.84348 17.2588 8.00162 16.8772 8.28301 16.596L12.879 12L8.28301 7.40397C8.00964 7.1212 7.85827 6.74237 7.8615 6.34907C7.86473 5.95577 8.0223 5.57947 8.30028 5.30123C8.57827 5.02298 8.95441 4.86505 9.34771 4.86145C9.741 4.85785 10.12 5.00887 10.403 5.28197L16.061 10.939L16.06 10.94Z\",\"fill\":\"black\"})),React.createElement(\"defs\",{\"key\":1},React.createElement(\"clipPath\",{\"id\":\"clip0_19_79\"},React.createElement(\"rect\",{\"width\":\"24\",\"height\":\"24\",\"fill\":\"white\"})))]);\n}\n\nRight.defaultProps = {\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\"};\n\nmodule.exports = Right;\n\nRight.default = Right;\n"],"names":["active","_ref","toc","useEffect","observer","IntersectionObserver","entries","forEach","entry","id","encodeURI","target","getAttribute","targetContent","document","querySelector","intersectionRatio","classList","add","styles","remove","rootMargin","querySelectorAll","section","observe","disconnect","React","className","dangerouslySetInnerHTML","__html","frontmatter","author","useSiteMetadata","title","createdAt","Utterances","theme","utterRef","createRef","utterElement","current","utterances","createElement","attributes","src","repo","label","crossOrigin","async","Object","_ref2","key","value","setAttribute","appendChild","removeChild","firstChild","ref","nextPost","prevPost","Post","post","isNext","icon","RightIcon","LeftIcon","direction","onClick","navigate","relativePath","excerpt","pageContext","data","useContext","ThemeContext","postArray","allMarkdownRemark","nodes","map","node","updatedAt","parent","console","log","index","findIndex","markdownRemark","length","CategoryLayout","selectedCategory","relativeDirectory","PostHeader","html","NextPosts","TableContent","tableOfContents","ToTheTop","Left","props","defaultProps","module","exports","default","Right"],"sourceRoot":""}